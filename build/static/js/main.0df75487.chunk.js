(window.webpackJsonpadmin=window.webpackJsonpadmin||[]).push([[0],{207:function(e,t,a){e.exports=a.p+"static/media/app-logo.ee547009.png"},348:function(e,t,a){e.exports=a(661)},353:function(e,t,a){},354:function(e,t,a){},357:function(e,t,a){},497:function(e,t,a){},533:function(e,t,a){},535:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"login",(function(){return L})),a.d(n,"setAppLoading",(function(){return U})),a.d(n,"websites",(function(){return R})),a.d(n,"checkAttachedScript",(function(){return Y}));var r={API:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,MAIN_DOMAIN:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MAIN_DOMAIN,FRONT_END_DOMAIN:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FRONT_END_DOMAIN},i=a(1),o=a.n(i),c=a(7),s=a.n(c),l=(a(353),a(217)),u=(a(354),a(355),a(317)),p=a(21),d=a(22),m=a(24),h=a(23),g=a(25),f=a(80),b=a(127),y=a(664),E=a(216),k=a(9),v=a(33),O=a(40),j=a(671),I=a(41),A=a(662),C=a(113),S=a(59),w=a(666),T={login:"".concat(r.API,"/api/admin/users/login"),info:"".concat(r.API,"/api/users/info"),getPackages:"".concat(r.API,"/api/packages"),checkWebsiteCode:"".concat(r.API,"/api/websites/{code}"),updateVipDomain:"".concat(r.API,"/api/users/website"),getUsers:"".concat(r.API,"/api/admin/users"),getAccounts:"".concat(r.API,"/api/admin/users/accounts"),getGoogleAdsErrors:"".concat(r.API,"/api/google-ad-errors"),getGoogleAdsErrorsStatistic:"".concat(r.API,"/api/google-ad-errors/statistic"),statisticGoogleApiAndError:"".concat(r.API,"/api/admin/users/report/google-statistic"),getWebsites:"".concat(r.API,"/api/admin/websites"),checkScriptWebsite:"".concat(r.API,"/api/admin/websites/{code}/recheck-tracking-code"),updateUserLicence:"".concat(r.API,"/api/admin/user-licences"),updateAccountLimitWebsite:"".concat(r.API,"/api/admin/account-ads/limit-website"),statisticOverview:"".concat(r.API,"/api/admin/statistic"),getOrders:"".concat(r.API,"/api/admin/order"),confirmOrder:"".concat(r.API,"/api/admin/order/{code}")},P=a(10),N=a.n(P),x=(a(357),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).abortController=new AbortController,a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.abortController.abort()}}]),t}(o.a.Component)),D=a(62),_=a(108),M=a(29),L=function(e,t){return{type:"LOGIN_SUCCESS",user:e,token:t}},U=function(e){return{type:"APP_LOADING",isLoading:e}},R=function(e){return{type:"LIST_WEBSITES",websites:e}},Y=function(e){return{type:"CHECKING_ATTACH_SCRIPT",website:e}},W={FRONT_END:{token:"".concat("__ata__","_token"),user:"".concat("__ata__","_user"),activeAccountId:"".concat("__ata__","_active_account_id"),activeAdsAccountId:"".concat("__ata__","_active_ads_account_id"),standBy:"".concat("__ata__","_stand_by")},token:"token",user:"user"},H=1,F=2,G=3;function B(){for(var e={},t=0;t<arguments.length;t++){var a=arguments[t];for(var n in a)e[n]=a[n]}return e}function K(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)}var z=function e(t){function a(e,a,r){if("undefined"!==typeof document){"number"===typeof(r=B(n.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),a=t.write?t.write(a,e):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var o in r)r[o]&&(i+="; "+o,!0!==r[o]&&(i+="="+r[o].split(";")[0]));return document.cookie=e+"="+a+i}}var n={defaults:{path:"/"},set:a,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],n={},r=0;r<a.length;r++){var i=a[r].split("="),o=i.slice(1).join("=");'"'===o.charAt(0)&&(o=o.slice(1,-1));try{var c=K(i[0]);if(n[c]=(t.read||t)(o,c)||K(o),e===c)break}catch(s){}}return e?n[e]:n}},remove:function(e,t){a(e,"",B(t,{expires:-1}))},withConverter:e};return n}((function(){})),V=["_id","avatar","createdAt","email","name","phone","role","googleId","licence"],q=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).secret=r,a.onClick=a.onClick.bind(Object(D.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"getTargetUserInfo",value:function(){var e=JSON.parse(JSON.stringify(this.props.user));e._id=e.id;var t={};return V.forEach((function(a){return t[a]=e[a]})),t.licence={type:t.licence.packageId.type,name:t.licence.packageId.name,expiredAt:t.expiredAt},t}},{key:"onClick",value:function(){var e=this;this.props.setAppLoading(!0);var t=z.get(W.token),a=z.get(W.user),n=this.getTargetUserInfo();z.set(W.FRONT_END.user,JSON.stringify(n),{path:"/",domain:r.MAIN_DOMAIN}),z.set(W.FRONT_END.standBy,a,{path:"/",domain:r.MAIN_DOMAIN}),z.set(W.FRONT_END.token,t,{path:"/",domain:r.MAIN_DOMAIN}),setTimeout((function(){window.open(e.secret.FRONT_END_DOMAIN,"_blank"),e.props.setAppLoading(!1)}),2e3)}},{key:"render",value:function(){return this.props.user.role===G?o.a.createElement(_.a,{title:"Thay quy\u1ec1n"},o.a.createElement(I.a,{size:"small",onClick:this.onClick},o.a.createElement(k.a,{type:"login"}))):o.a.createElement(o.a.Fragment,null)}}]),t}(o.a.Component),J=Object(M.b)((function(e){return{users:e.users}}),n)(q),Q=a(131),X=a(673),Z=a(670),$=a(667),ee=a(47),te=a.n(ee),ae=a(90),ne=Q.a.Option,re=["DD/MM/YYYY","DD/MM/YY"],ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).packages=[],a.key="updatable",a.handleChangePackage=function(e){a.setState({selectedPackage:{_id:e},isDatePickerDisplayed:"FREE"!==ae.find(a.props.packages,(function(t){return t._id===e})).type})},a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.updateLicence=function(){var e={userId:a.props.userId,packageId:a.state.selectedPackage._id,expiredAt:new Date(a.state.selectedExpiration).getTime()};"FREE"===a.state.selectedPackage.type&&delete e.expiredAt,fetch(T.updateUserLicence,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8",accessToken:a.props.accessToken}}).then((function(e){return 200===e.status?Promise.resolve(e.json()):Promise.reject(e.json())})).then((function(e){a.props.onUserLicenceUpdated(),a.hideModal(),setTimeout((function(){X.a.success(e.messages[0])}),500)}),(function(e){return e.then((function(e){X.a.error(e.messages[0])}))}))},a.openMessage=function(e){X.a.loading({content:"Loading...",key:a.key}),setTimeout((function(){X.a.success({content:e,key:a.key,duration:2})}))},a.handleChangeDatePicker=function(e){e&&a.setState({selectedExpiration:e})},a.disabledDate=function(e){return e&&e<N()()},a.packages=e.packages,a.state={visible:!1,selectedPackage:{_id:a.props.currentPackage._id,type:a.props.currentPackage.type},selectedExpiration:N()(new Date).add(1,"months"),updatingMessage:{message:"",isSucceed:!0},isDatePickerDisplayed:"FREE"!==a.props.currentPackage.type},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedPackage._id,a=this.state.selectedExpiration,n=this.state.isDatePickerDisplayed;return o.a.createElement("div",{className:"modal-container"},o.a.createElement(I.a,{onClick:this.showModal,type:"primary"},"C\u1eadp nh\u1eadt licence"),o.a.createElement(Z.a,{title:"C\u1eacP NH\u1eacT LICENCE - USER: "+this.props.userFullname,visible:this.state.visible,onOk:this.updateLicence,onCancel:this.hideModal,okText:"C\u1eadp nh\u1eadt",cancelText:"H\u1ee7y b\u1ecf"},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:6}),o.a.createElement(S.a,{span:12},o.a.createElement("div",null,"Ch\u1ecdn g\xf3i licence:",o.a.createElement(Q.a,{value:t,style:{width:"100%"},placeholder:"Ch\u1ecdn g\xf3i",onChange:this.handleChangePackage},this.props.packages.map((function(e,t){return o.a.createElement(ne,{value:e._id,key:t},e.name)})))),o.a.createElement("br",null),function(){if(!0===n)return o.a.createElement("div",null,"H\u1ea1n d\xf9ng \u0111\u1ebfn:",o.a.createElement($.a,{style:{width:"100%"},defaultValue:N()(a,re[0]),format:re,onChange:e.handleChangeDatePicker,disabledDate:e.disabledDate}))}()),o.a.createElement(S.a,{span:4}))))}}]),t}(x),oe=Object(M.b)(null,n)(ie);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).currentPage=1,a.packages=[],a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,c=t.clearFilters;return o.a.createElement("div",{style:{padding:8}},o.a.createElement(j.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,e,i)},style:{width:188,marginBottom:8,display:"block"},autoFocus:!0}),o.a.createElement(I.a,{type:"primary",onClick:function(){return a.handleSearch(r,e,i)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),o.a.createElement(I.a,{onClick:function(){return a.handleReset(c)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return o.a.createElement(k.a,{type:"search",style:{color:e?"#f2f2f2":void 0}})}}},a.handleSearch=function(e,t,n){n(),e[0]&&a.getUsers(Object(O.a)({},t,e[0])),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.isEmptyObj=function(e){return 0===Object.keys(e).length},a.getUsers=function(e){var t=T.getUsers;a.isEmptyObj(e)||(t+="?"+Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"));var n=a.props.cookies;a.props.setAppLoading(!0),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",accessToken:n.get(W.token)},signal:a.abortController.signal}).then((function(e){return a.props.setAppLoading(!1),e.json()})).then((function(e){var t=(e.data.entries||[]).map((function(e){return{id:e._id,name:e.name,email:e.email,phone:e.phone,googleId:e.googleId,createdAt:e.createdAt,avatar:e.avatar,role:e.role,licence:e.licence,licencePackageId:e.licence.packageId._id,licenceName:e.licence.packageId?e.licence.packageId.name:null,licenceType:e.licence.packageId?e.licence.packageId.type:null,licenceExpiration:e.licence.expiredAt,licenceHistories:e.licence.histories}}));a.setState({users:t,totalItems:t.length>0?e.data.totalItems:0})}))},a.refreshUsers=function(){a.getUsers({page:a.state.page,limit:a.state.limit})},a.cookies=a.props.cookies,a.token=a.cookies.get(W.token),a.state={searchText:"",users:[],totalItems:0,page:1,limit:10},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getUsers({page:this.state.page,limit:this.state.limit}),this.getPackages()}},{key:"getPackages",value:function(){var e=this;fetch(T.getPackages,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",accessToken:this.token},signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(t){e.packages=t.data.packages.sort((function(e,t){return e.numOfDays-t.numOfDays}))}))}},{key:"onChangePage",value:function(e){this.state.totalItems>this.state.limit?this.getUsers({page:e,limit:this.state.limit}):this.state.searchText||this.getUsers({page:e,limit:this.state.limit}),this.setState({page:e})}},{key:"render",value:function(){var e=this,t=[{title:"H\xe0nh \u0111\u1ed9ng",dataIndex:"id",key:"id",render:function(e,t){return o.a.createElement(J,{user:t})}},se({title:"H\u1ecd v\xe0 T\xean",dataIndex:"name",key:"name"},this.getColumnSearchProps("name"),{render:function(e,t){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{className:"user-avatar",alt:"",src:t.avatar||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png"}),o.a.createElement("span",{className:"user-name"},e))}}),se({title:"Email",dataIndex:"email",key:"email"},this.getColumnSearchProps("email")),{title:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",dataIndex:"phone",key:"phone"},{title:"Google ID",dataIndex:"googleId",key:"googleId"},{title:"Ng\xe0y tham gia",dataIndex:"createdAt",key:"createdAt",render:function(e){return o.a.createElement("div",{style:{width:"120px"}},N()(e).format("HH:mm DD/MM/YYYY"))}},{title:"Licence",dataIndex:"licenceName",key:"licenceName",render:function(e,t){if(t.role===H||t.role===F)return o.a.createElement("span",null);var a="free-licence-type",n=t.licenceType;"FREE"!==n&&("VIP1"===n&&(a="vip-licence-type"),"CUSTOM"===n&&(a="custom-licence-type"));var r=(t.licenceHistories||[]).map((function(e,t){return o.a.createElement("p",{style:{fontSize:"12px"},key:t},"V\xe0o l\xfac ",N()(e.createdAt).format("HH:mm DD/MM/YYYY")," ",o.a.createElement("br",null),"Licence: ",e.name)})).reverse();return r=r.length>0?o.a.createElement("div",{style:{maxHeight:"300px",overflow:"auto"}},r):o.a.createElement("span",{style:{fontSize:"12px"}},"Ch\u01b0a c\xf3 ghi nh\u1eadn n\xe0o."),o.a.createElement("div",{className:"user-licence-wrapper"},o.a.createElement("span",{className:"".concat("base-licence-type"," ").concat(a)},e),o.a.createElement(A.a,{placement:"bottom",title:"L\u1ecbch s\u1eed  c\u1eadp nh\u1eadt licence",content:r,trigger:"click",overlayStyle:{width:"200px"}},o.a.createElement(I.a,{type:"link",style:{fontSize:"12px"}},"L\u1ecbch s\u1eed")))}},{title:"H\u1ea1n d\xf9ng licence",dataIndex:"licenceExpiration",key:"licenceExpiration",render:function(e,t){return t.role===H||t.role===F?o.a.createElement("span",null):"VIP1"===t.licenceType||"CUSTOM"===t.licenceType?o.a.createElement("div",{style:{width:"120px"}},N()(e).format("HH:mm DD/MM/YYYY")):void 0}},{title:"",dataIndex:"licenceUpdating",key:"licenceUpdating",render:function(t,a){return a.role===H||a.role===F?o.a.createElement("span",null):o.a.createElement(oe,{accessToken:e.token,userFullname:a.name,userId:a.id,packages:e.packages,onUserLicenceUpdated:e.refreshUsers,currentPackage:{_id:a.licencePackageId,type:a.licenceType}})}}],a={position:"bottom",total:this.state.totalItems,pageSize:this.state.limit,current:this.state.page,onChange:function(t){return e.onChangePage(t)}};return o.a.createElement("div",{className:"container"},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(w.a,{pagination:a,dataSource:this.state.users,columns:t,rowKey:function(e){return e.id},className:"users-table"}))))}}]),t}(x),ue=Object(M.b)((function(e){return{users:e.users}}),n)(Object(v.c)(le)),pe=(a(497),a(669)),de=a(672),me=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).key="updatable",a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.updateAccountLimitWebsite=function(){a.props.form.validateFields((function(e,t){if(!e){var n={accountId:a.props.accountId,limitWebsite:t.limitWebsite};fetch(T.updateAccountLimitWebsite,{method:"PUT",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8",accessToken:a.props.accessToken}}).then((function(e){return 200===e.status?Promise.resolve(e.json()):Promise.reject(e.json())})).then((function(e){a.props.onAccountLimitWebsiteEdited(),a.hideModal(),setTimeout((function(){X.a.success(e.messages[0])}),500)}),(function(e){return e.then((function(e){X.a.error(e.messages[0])}))}))}}))},a.openMessage=function(e){X.a.loading({content:"Loading...",key:a.key}),setTimeout((function(){X.a.success({content:e,key:a.key,duration:2})}))},a.state={visible:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement("div",{className:"modal-container"},o.a.createElement(_.a,{placement:"bottom",title:"Ch\u1ec9nh s\u1eeda",overlayStyle:{fontSize:"12px"}},o.a.createElement(I.a,{onClick:this.showModal,icon:"edit",style:{border:0,background:"rgba(0,0,0,0)"}})),o.a.createElement(Z.a,{title:"CH\u1ec8NH S\u1eecA LIMIT WEBSITE - T\xc0I KHO\u1ea2N: "+this.props.adsId,visible:this.state.visible,onOk:this.updateAccountLimitWebsite,onCancel:this.hideModal,okText:"L\u01b0u",cancelText:"H\u1ee7y b\u1ecf"},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:6}),o.a.createElement(S.a,{span:12},o.a.createElement(pe.a,null,o.a.createElement(pe.a.Item,null,o.a.createElement("label",null,o.a.createElement("span",null,"Limit website: "),e("limitWebsite",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp limit website"}],initialValue:this.props.currentLimitWebsite})(o.a.createElement(de.a,{prefix:o.a.createElement(k.a,{type:"qrcode",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Limit website"})))))),o.a.createElement(S.a,{span:4}))))}}]),t}(x),he=pe.a.create({name:"update_limit_website"})(me);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,c=t.clearFilters;return o.a.createElement("div",{style:{padding:8}},o.a.createElement(j.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,e,i)},style:{width:188,marginBottom:8,display:"block"},autoFocus:!0}),o.a.createElement(I.a,{type:"primary",onClick:function(){return a.handleSearch(r,e,i)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),o.a.createElement(I.a,{onClick:function(){return a.handleReset(c)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return o.a.createElement(k.a,{type:"search",style:{color:e?"#f2f2f2":void 0}})}}},a.handleSearch=function(e,t,n){n(),e[0]&&a.getAccounts(Object(O.a)({},t,e[0])),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.isEmptyObj=function(e){return 0===Object.keys(e).length},a.refreshAccounts=function(){a.getAccounts({page:a.state.page,limit:a.state.limit})},a.getAccounts=function(e){var t=T.getAccounts;a.isEmptyObj(e)||(t+="?"+Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")),a.props.setAppLoading(!0),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",accessToken:a.token},signal:a.abortController.signal}).then((function(e){return e.json()})).then((function(e){var t=(e.data.entries||[]).map((function(e){return{id:e._id,adsId:a.formatAdsId(e.adsId),isConnected:e.isConnected,email:e.userInfo.email,domain:e.websiteInfo?e.websiteInfo.map((function(e){return e.domain})):[],createdAt:e.createdAt,limitWebsite:e.setting.limitWebsite,licenceType:e.licence.packageId.type}}));a.setState({accounts:t,totalItems:t.length>0?e.data.totalItems:0}),setTimeout((function(){a.props.setAppLoading(!1)}),500)}))},a.cookies=a.props.cookies,a.token=a.cookies.get(W.token),a.state={searchText:"",accounts:[],totalItems:0,page:1,limit:10},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getAccounts({page:this.state.page,limit:this.state.limit})}},{key:"onChangePage",value:function(e){this.state.totalItems>this.state.limit?this.getAccounts({page:e,limit:this.state.limit}):this.state.searchText||this.getAccounts({page:e,limit:this.state.limit}),this.setState({page:e})}},{key:"formatAdsId",value:function(e){var t=e.split("");return t.splice(0,3).join("")+"-"+t.splice(0,3).join("")+"-"+t.splice(0,4).join("")}},{key:"render",value:function(){var e=this,t=[{title:function(e,t){return o.a.createElement("div",null,o.a.createElement("img",{src:"https://storage.googleapis.com/gweb-uniblog-publish-prod/images/logo_Google_Ads_192px.max-200x200.png",alt:"",className:"ggAds-icon"}),o.a.createElement("span",null,"Google Ads ID"))},dataIndex:"adsId",key:"adsId",render:function(e,t){return o.a.createElement("span",{style:{color:t.isConnected?"#44b543":"crimson",fontWeight:"bold"}},e)}},{title:"Quy\u1ec1n qu\u1ea3n l\xfd",dataIndex:"isConnected",key:"isConnected",render:function(e){return!0===e?o.a.createElement("div",{style:{color:"#44b543"}},o.a.createElement(k.a,{type:"check"})):o.a.createElement("div",{style:{color:"crimson"}},o.a.createElement(k.a,{type:"close"}))}},fe({title:"Email",dataIndex:"email",key:"email"},this.getColumnSearchProps("email")),{title:"T\xean mi\u1ec1n",dataIndex:"domain",key:"domain",render:function(e){return e.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("a",{href:e,target:" _blank"},e))}))}},{title:"Limit webiste",dataIndex:"limitWebsite",key:"limitWebsite",render:function(t,a){return"FREE"===a.licenceType?o.a.createElement("span",null,t):o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("div",{style:{width:"50px"}},t),o.a.createElement(he,{accessToken:e.token,accountId:a.id,adsId:a.adsId,currentLimitWebsite:a.limitWebsite,onAccountLimitWebsiteEdited:e.refreshAccounts}))}},{title:"Ng\xe0y k\u1ebft n\u1ed1i",dataIndex:"createdAt",key:"createdAt",render:function(e){return o.a.createElement("span",null,N()(e).format("HH:mm DD/MM/YYYY"))}}];return o.a.createElement("div",{className:"container"},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(w.a,{pagination:{position:"bottom",total:this.state.totalItems,pageSize:this.state.limit,current:this.state.page,onChange:function(t){return e.onChangePage(t)}},dataSource:this.state.accounts,columns:t,rowKey:function(e){return e.adsId},className:"accounts-table",rowClassName:function(e){return!0===e.isConnected?"isConnected":"isNotConnected"}}))))}}]),t}(x),ye=Object(M.b)(null,n)(Object(v.c)(be)),Ee=(a(533),a(307)),ke=a.n(Ee),ve=a(308),Oe=a.n(ve),je={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Statistic type of Google Ads Error"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"Brands",colorByPoint:!0,data:[]}]},Ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).cookies=a.props.cookies,a.token=a.cookies.get(W.token),a.state={ggAdsErrors:[],totalItems:0,page:1,limit:10,statistic:[]},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getGoogleAdsErrors({page:this.state.page,limit:this.state.limit}),this.getStatistic()}},{key:"getStatistic",value:function(){var e=this;te.a.get(T.getGoogleAdsErrorsStatistic,{headers:{accessToken:this.token},signal:this.abortController.signal}).then((function(t){e.setState({statistic:t.data.data})}))}},{key:"getGoogleAdsErrors",value:function(e){var t=this,a=T.getGoogleAdsErrors;void 0!==e.page&&(a+="?page=".concat(e.page)),void 0!==e.limit&&(a+="&limit=".concat(e.limit)),fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",accessToken:this.token}}).then((function(e){return e.json()})).then((function(e){var a=e.data.entries;t.setState({ggAdsErrors:a,totalItems:a.length>0?e.data.totalItems:0})}))}},{key:"onChangePage",value:function(e){this.getGoogleAdsErrors({page:e,limit:this.state.limit}),this.setState({page:e})}},{key:"render",value:function(){var e=this,t=[];Object.keys({createdAt:{},reason:{},authConfig:{},params:{},error:{},functionName:"",serviceVersion:"",serviceName:"",moduleName:""}).forEach((function(e){-1===["authConfig","error","params"].indexOf(e)?t.push({title:e,dataIndex:e,key:e,render:function(t){return"createdAt"===e?N()(t).format("HH:mm DD/MM/YYY"):t}}):t.push({title:e,dataIndex:e,key:e,render:function(e){var t=o.a.createElement(ke.a,{style:{fontSize:"12px"},data:e});return o.a.createElement(A.a,{content:t,title:"N\u1ed9i dung",placement:"bottom",trigger:"click",overlayStyle:{width:"45vw",maxHeight:"50vh"}},o.a.createElement(I.a,null,"Xem n\u1ed9i dung"))}})})),je.series[0].data=[],this.state.statistic.forEach((function(e){je.series[0].data.push({name:e._id,y:e.count})}));var a={position:"bottom",total:this.state.totalItems,pageSize:this.state.limit,current:this.state.page,onChange:function(t){return e.onChangePage(t)}};return o.a.createElement("div",null,o.a.createElement("div",{className:"container",style:{overflow:"auto"}},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(Oe.a,{config:je})))),o.a.createElement("div",{className:"container"},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(w.a,{pagination:a,dataSource:this.state.ggAdsErrors,columns:t,rowKey:function(e){return e._id},className:"gg-ads-errors-table"})))))}}]),t}(x),Ae=Object(v.c)(Ie),Ce=(a(535),a(83)),Se=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).from=N()().subtract(13,"days").startOf("day"),a.to=N()().endOf("day"),a.getStatisticDates=function(){for(var e=[],t=N()(a.from).startOf("day"),n=N()(a.to).startOf("day");t.add(1,"days").diff(n)<0;)e.push(N()(t.clone().toDate()).format("DD-MM-YYYY"));return e.unshift(N()(a.from).format("DD-MM-YYYY")),e.push(N()(a.to).format("DD-MM-YYYY")),e},a.cookies=a.props.cookies,a.token=a.cookies.get(W.token),a.state={data:[],from:a.from.valueOf().toString(),to:a.to.valueOf().toString(),overviewStatisticData:{numberOfUser:0,numberOfAdswords:0,numberOfWebsite:0}},a.chartWrap=o.a.createRef(),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"statisticOverview",value:function(){var e=this;this.props.setAppLoading(!0),te.a.get(T.statisticOverview,{headers:{accesstoken:this.token},signal:this.abortController.signal}).then((function(t){e.setState({overviewStatisticData:t.data.data}),setTimeout((function(){e.props.setAppLoading(!1)}),500)})).catch((function(t){e.props.setAppLoading(!1)}))}},{key:"fetchData",value:function(){var e=this;this.props.setAppLoading(!0),te.a.get(T.statisticGoogleApiAndError,{params:{from:this.state.from,to:this.state.to,timeZone:N()().format("Z")},headers:{accesstoken:this.token},signal:this.abortController.signal}).then((function(t){e.mapResults(t.data.data.result),setTimeout((function(){e.props.setAppLoading(!1)}),500)})).catch((function(t){e.props.setAppLoading(!1)}))}},{key:"mapResults",value:function(e){this.getStatisticDates().forEach((function(t,a){var n=ae.find(e,(function(e){return e.date===t}));n?(n.requestsNumber=n.requestsNumber||0,n.googleAdsErrorsNumber=n.googleAdsErrorsNumber||0,n._date=N()(t,"DD-MM-YYYY")._d):e.push({requestsNumber:0,googleAdsErrorsNumber:0,date:t,_date:N()(t,"DD-MM-YYYY")._d})})),e.sort((function(e,t){return e._date.getTime()<t._date.getTime()?-1:e._date.getTime()===t._date.getTime()?0:1})),this.setState({data:e})}},{key:"componentDidMount",value:function(){this.fetchData(),this.statisticOverview()}},{key:"render",value:function(){var e={name:"Error",stroke:"red",data:[]},t={name:"Request",stroke:"blue",data:[]};this.state.data.forEach((function(a){e.data.push({date:N()(a._date).format("DD-MM"),value:a.googleAdsErrorsNumber}),t.data.push({date:N()(a._date).format("DD-MM"),value:a.requestsNumber})}));var a=[e,t],n=this.state.overviewStatisticData,r=this.state.data.length>0?this.state.data[0].date:"",i=this.state.data.length>0?this.state.data[this.state.data.length-1].date:"",c=this.to.diff(this.from,"days")+1||0,s=c>1?c.toString()+" days":c.toString()+" day";return o.a.createElement("div",{className:"dashboard"},o.a.createElement("div",{ref:this.chartWrap},o.a.createElement("h2",null,"Google Ads Request & Error Statistic"),o.a.createElement("h4",null,"From ",o.a.createElement("strong",null,r)," To ",o.a.createElement("strong",null,i," (",s,")")),o.a.createElement("div",{className:"chart-warpper"},o.a.createElement(Ce.d,{width:this.chartWrap.current?this.chartWrap.current.offsetWidth:800,height:300},o.a.createElement(Ce.a,{strokeDasharray:"3 3"}),o.a.createElement(Ce.f,{dataKey:"date",type:"category",allowDuplicatedCategory:!1,style:{fontSize:"12px"}}),o.a.createElement(Ce.g,{dataKey:"value",style:{fontSize:"12px"}}),o.a.createElement(Ce.e,null),o.a.createElement(Ce.b,null),a.map((function(e){return o.a.createElement(Ce.c,{dataKey:"value",data:e.data,stroke:e.stroke,name:e.name,key:e.name})}))))),o.a.createElement("div",{className:"overview"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(k.a,{type:"user"})," Users:",o.a.createElement("span",{className:"data-value"},n.numberOfUser)),o.a.createElement("li",null,o.a.createElement("img",{src:"https://storage.googleapis.com/gweb-uniblog-publish-prod/images/logo_Google_Ads_192px.max-200x200.png",alt:"",className:"ggAds-icon"})," Google Ads accounts:",o.a.createElement("span",{className:"data-value"},n.numberOfAdswords)),o.a.createElement("li",null,o.a.createElement(k.a,{type:"layout"})," Websites:",o.a.createElement("span",{className:"data-value"},n.numberOfWebsite)))))}}]),t}(x),we=Object(M.b)((function(e){return{users:e.users}}),n)(Object(v.c)(Se)),Te=(a(654),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).abortController=new AbortController,a.state={isLoading:!1,record:e.record},a.onClick=a.onClick.bind(Object(D.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"stopSpinning",value:function(){var e=this;setTimeout((function(){e.setState({isLoading:!1})}),500)}},{key:"onClick",value:function(){var e=this;console.log(this.props),this.setState({isLoading:!0});var t=this.props.cookies;te()({method:"PUT",url:T.checkScriptWebsite.replace("{code}",this.props.record.code),headers:{Accept:"application/json","Content-Type":"application/json",accessToken:t.getC(W.token)},signal:this.abortController.signal}).then((function(t){e.setState({record:t.data.data.website}),e.stopSpinning()})).catch((function(t){console.log(t),e.stopSpinning()}))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e=o.a.createElement(k.a,{type:"loading",spin:!0});return o.a.createElement("div",null,o.a.createElement(_.a,{placement:"topLeft",title:"Ki\u1ec3m tra g\u1eafn m\xe3"},o.a.createElement("span",{className:"recheck-website-tracking",onClick:this.onClick},this.state.isLoading?e:o.a.createElement(k.a,{type:"reload"}))),o.a.createElement("a",{href:this.props.text,target:" _blank",style:{color:this.props.record.isTracking?"#44b543":"crimson",fontFamily:"tahoma"}},this.props.text))}}]),t}(o.a.Component)),Pe=Object(M.b)((function(e){return{websites:e.websites,users:e.users}}),n)(Te);function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).paginationConfig={},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,c=t.clearFilters;return o.a.createElement("div",{style:{padding:8}},o.a.createElement(j.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,e,i)},style:{width:188,marginBottom:8,display:"block"},autoFocus:!0}),o.a.createElement(I.a,{type:"primary",onClick:function(){return a.handleSearch(r,e,i)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),o.a.createElement(I.a,{onClick:function(){return a.handleReset(c)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return o.a.createElement(k.a,{type:"search",style:{color:e?"#f2f2f2":void 0}})}}},a.handleSearch=function(e,t,n){n(),e[0]&&a.getWebsites(Object(O.a)({},t,e[0])),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.isEmptyObj=function(e){return 0===Object.keys(e).length},a.cookies=a.props.cookies,a.token=a.cookies.get(W.token),a.state={searchText:"",websites:[],totalItems:0,page:1,limit:10},a.paginationConfig={position:"bottom",total:a.state.totalItems,pageSize:a.state.limit,current:a.state.page,onChange:function(e){return a.onChangePage(e)}},a.onClickRecheckWebsite=a.onClickRecheckWebsite.bind(Object(D.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getWebsites({page:this.state.page,limit:this.state.limit})}},{key:"onChangePage",value:function(e){this.state.totalItems>this.state.limit?this.getWebsites({page:e,limit:this.state.limit}):this.state.searchText||this.getWebsites({page:e,limit:this.state.limit}),this.setState({page:e})}},{key:"getWebsites",value:function(e){var t=this,a=T.getWebsites;this.isEmptyObj(e)||(a+="?"+Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")),this.props.setAppLoading(!0),fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",accessToken:this.token},signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(e){var a=(e.data.entries||[]).map((function(e){return{domain:e.domain,isTracking:e.isTracking,adsId:e.accountInfo?e.accountInfo.adsId:"",email:e.userInfo?e.userInfo.email:"",expiredAt:e.expiredAt,createdAt:e.createdAt,code:e.code,websiteCode:e.code}}));t.setState({websites:a,totalItems:a.length>0?e.data.totalItems:0}),setTimeout((function(){t.props.setAppLoading(!1)}),500)}))}},{key:"onClickRecheckWebsite",value:function(e){}},{key:"render",value:function(){var e=this,t=[{title:function(e,t){return o.a.createElement("div",null,o.a.createElement(k.a,{type:"chrome",className:"ggAds-icon"}),o.a.createElement("span",null,"Domain"))},dataIndex:"domain",key:"domain",render:function(t,a){return o.a.createElement(Pe,{text:t,onClick:e.onClickRecheckWebsite,record:a})}},{title:"Code",dataIndex:"websiteCode",key:"websiteCode",render:function(e){return o.a.createElement("span",null,e)}},{title:"G\u1eafn tracking",dataIndex:"isTracking",key:"isTracking",render:function(e){return!0===e?o.a.createElement("span",{style:{color:"#44b543"}},o.a.createElement(k.a,{type:"check"})," \u0110\xe3 g\u1eafn"):o.a.createElement("span",{style:{color:"crimson"}},o.a.createElement(k.a,{type:"close"})," Ch\u01b0a g\u1eafn")}},xe({title:"AdsId",dataIndex:"adsId",key:"adsId"},this.getColumnSearchProps("adsId")),xe({title:"Email",dataIndex:"email",key:"email"},this.getColumnSearchProps("email")),{title:"Ng\xe0y th\xeam",dataIndex:"createdAt",key:"createdAt",render:function(e){return o.a.createElement("span",null,N()(e).format("HH:mm DD/MM/YYYY"))}}];return o.a.createElement("div",{className:"container"},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(w.a,{pagination:this.paginationConfig,dataSource:this.state.websites,columns:t,rowKey:function(e,t){return e.code},className:"accounts-table"}))))}}]),t}(x),_e=Object(M.b)(null,n)(Object(v.c)(De)),Me=(a(655),{1:"NEW",2:"PAYING",3:"NOT_ENOUGH_MONEY",4:"SUCCESS"});function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,i=t.confirm,c=t.clearFilters;return o.a.createElement("div",{style:{padding:8}},o.a.createElement(j.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(r,e,i)},style:{width:188,marginBottom:8,display:"block"},autoFocus:!0}),o.a.createElement(I.a,{type:"primary",onClick:function(){return a.handleSearch(r,e,i)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),o.a.createElement(I.a,{onClick:function(){return a.handleReset(c)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return o.a.createElement(k.a,{type:"search",style:{color:e?"#f2f2f2":void 0}})}}},a.handleSearch=function(e,t,n){n();var r=e[0];r&&("status"===t?(r=r.toUpperCase(),(r=ae.findKey(Me,(function(e){return e===r})))&&a.getOrders(Object(O.a)({},t,r))):a.getOrders(Object(O.a)({},t,r))),a.setState({searchText:r})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.isEmptyObj=function(e){return 0===Object.keys(e).length},a.getOrders=function(e){var t=T.getOrders;a.isEmptyObj(e)||(t+="?"+Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")),a.props.setAppLoading(!0),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",accessToken:a.token},signal:a.abortController.signal}).then((function(e){return e.json()})).then((function(e){var t=(e.data.entries||[]).map((function(e){return{createdAt:e.createdAt,user:{avatar:e.userId.avatar,email:e.userId.email},packageName:e.packageId.name,packageType:e.packageId.type,packageNumOfMonths:e.packageId.numOfMonths,code:e.code,status:e.status}}));a.setState({orders:ae.orderBy(t,["createdAt"],["desc"]),totalItems:e.data.totalItems}),setTimeout((function(){a.props.setAppLoading(!1)}),500)}))},a.confirmOrder=function(e){var t=T.confirmOrder.replace("{code}",e);fetch(t,{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",accessToken:a.token}}).then((function(e){return 200===e.status?Promise.resolve(e.json()):Promise.reject(e.json())})).then((function(e){a.getOrders({page:a.state.page,limit:a.state.limit}),setTimeout((function(){X.a.success(e.messages[0])}),500)}),(function(e){return e.then((function(e){X.a.error(e.messages[0])}))}))},a.cookies=a.props.cookies,a.token=a.cookies.get(W.token),a.state={searchText:"...",orders:[],totalItems:0,page:1,limit:10},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getOrders({page:this.state.page,limit:this.state.limit})}},{key:"onChangePage",value:function(e){this.state.totalItems>this.state.limit?this.getOrders({page:e,limit:this.state.limit}):this.state.searchText||this.getOrders({page:e,limit:this.state.limit}),this.setState({page:e})}},{key:"render",value:function(){var e=this,t={position:"bottom",total:this.state.totalItems,pageSize:this.state.limit,current:this.state.page,onChange:function(t){return e.onChangePage(t)}},a=[{title:"Th\u1eddi gian",dataIndex:"createdAt",key:"createdAt",render:function(e){return N()(e).format("HH:mm DD/MM/YYYY")}},{title:"Ng\u01b0\u1eddi d\xf9ng",dataIndex:"user",key:"user",render:function(e){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{className:"user-avatar",alt:"",src:e.avatar||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png"}),o.a.createElement("span",{className:"user-email"},e.email))}},{title:"T\xean g\xf3i",dataIndex:"packageName",key:"packageName",render:function(e,t){var a=t.packageType;return"FREE"===a?o.a.createElement("span",{className:"package-type free-type"},e):"VIP1"===a?o.a.createElement("span",{className:"package-type vip-type"},e):"CUSTOM"===a?o.a.createElement("span",{className:"package-type custom-type"},e):void 0}},{title:"S\u1ed1 th\xe1ng",dataIndex:"packageNumOfMonths",key:"packageNumOfMonths"},Ue({title:"Code",dataIndex:"code",key:"code"},this.getColumnSearchProps("code"),{render:function(e){return o.a.createElement("span",{className:"order-code"},e)}}),Ue({title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status"},this.getColumnSearchProps("status"),{render:function(e){return 1===e?o.a.createElement("span",{className:"order-status order-new"},Me[e]):2===e?o.a.createElement("span",{className:"order-status order-paying"},Me[e]):3===e?o.a.createElement("span",{className:"order-status order-not-enough-money"},Me[e]):4===e?o.a.createElement("span",{className:"order-status order-success"},Me[e]):void 0}}),{title:"",dataIndex:"actions",key:"actions",render:function(t,a){if(4!==a.status)return o.a.createElement(I.a,{type:"primary",onClick:function(){return e.confirmOrder(a.code)}},"Ch\u1ea5p nh\u1eadn")}}];return o.a.createElement("div",{className:"container"},o.a.createElement(C.a,null,o.a.createElement(S.a,{span:24},o.a.createElement(w.a,{pagination:t,dataSource:this.state.orders,columns:a,rowKey:function(e,t){return t},className:"orders-table"}))))}}]),t}(x),Ye=[{title:"Dashboard",path:"",icon:"home",component:we},{title:"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng",path:"users",icon:"user",component:ue},{title:"Qu\u1ea3n l\xfd order",path:"orders",icon:"user",component:Object(M.b)(null,n)(Object(v.c)(Re))},{title:"Qu\u1ea3n l\xfd website",path:"websites",icon:"chrome",component:_e},{title:"T\xe0i kho\u1ea3n Google Ads",path:"accounts",icon:"appstore",component:ye},{title:"L\u1ed7i Google Ads",path:"google-ads-errors",icon:"bug",component:Ae}],We=a(663),He=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).logout=a.logout.bind(Object(D.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"logout",value:function(){this.props.cookies.remove("token",{path:"/"}),this.props.history.push("/login")}},{key:"render",value:function(){return o.a.createElement(We.a,{placement:"rightBottom",title:"Tho\xe1t kh\u1ecfi h\u1ec7 th\u1ed1ng?",onConfirm:this.logout,okText:"\u0110\u1ed3ng \xfd",cancelText:"H\u1ee7y"},o.a.createElement(I.a,{type:"link",style:{width:"100%",textAlign:"left",padding:"0 23px"}},o.a.createElement(k.a,{type:"logout"}),o.a.createElement("span",{style:{marginLeft:"8.5px"}},"\u0110\u0103ng xu\u1ea5t")))}}]),t}(o.a.Component),Fe=Object(v.c)(Object(f.g)(He)),Ge=(a(657),function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"email"},this.props.users.user?this.props.users.user.email:"")}}]),t}(o.a.Component)),Be=Object(M.b)((function(e){return{users:e.users}}),n)(Ge),Ke=a(668),ze=a(674),Ve=a(665),qe=y.a.Header,Je=E.a.SubMenu,Qe=Ke.a.Meta,Xe=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(qe,{style:{background:"#fff",padding:0}},o.a.createElement(E.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px"}},o.a.createElement(Je,{key:"1",title:o.a.createElement("span",{className:"submenu-title-wrapper"},o.a.createElement(k.a,{type:"message"}),"Tin nh\u1eafn",o.a.createElement(ze.a,{count:99,overflowCount:10,offset:[0,-20]}))},o.a.createElement(E.a.ItemGroup,{title:"H\xf4m nay"},o.a.createElement(Ke.a,{style:{width:300,margin:"5px"}},o.a.createElement(Qe,{avatar:o.a.createElement(Ve.a,{src:"https://ca.slack-edge.com/THXMMTH2T-UKTMGS4AV-7e288c74391a-512"}),title:"Tue Vo",description:"This is the description"}))),o.a.createElement(E.a.ItemGroup,{title:"H\xf4m qua"},o.a.createElement(Ke.a,{style:{width:300,margin:"5px"}},o.a.createElement(Qe,{avatar:o.a.createElement(Ve.a,{src:"https://ca.slack-edge.com/THXMMTH2T-UKTMGS4AV-7e288c74391a-512"}),title:"Tue Vo",description:"This is the description"}))))),o.a.createElement("div",{className:"logo"},this.props.users.user?this.props.users.user.email:""))}}]),t}(i.Component),Ze=Object(M.b)((function(e){return{users:e.users}}),n)(Xe),$e=a(207),et=a.n($e),tt=(a(658),y.a.Footer),at=y.a.Sider,nt=y.a.Content,rt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).isAuthenticated=!1,a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"isLoggedIn",value:function(){var e=this.props.cookies,t=e.get(W.token),a=e.get(W.user);return!this.props.users.isLogout&&(t&&a)}},{key:"componentWillMount",value:function(){var e=this.props.cookies;this.isLoggedIn()?this.isAuthenticated=!0:(e.remove(W.token),e.remove(W.user),this.isAuthenticated=!1)}},{key:"render",value:function(){var e=this,t=function(t){var a=t.component,n=Object(u.a)(t,["component"]);return o.a.createElement(f.b,Object.assign({},n,{render:function(t){return e.isAuthenticated?o.a.createElement(a,t):o.a.createElement(f.a,{to:{pathname:"/login",state:{from:t.location}}})}}))},a=window.location.href.split("?")[0].split("/"),n="0";switch(a[a.length-1]){case"users":n="1";break;case"orders":n="2";break;case"websites":n="3";break;case"accounts":n="4";break;case"google-ads-errors":n="5"}return o.a.createElement(y.a,null,o.a.createElement(at,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0}},o.a.createElement("div",{className:"logo"},o.a.createElement("img",{alt:"",src:et.a})),o.a.createElement(Be,null),o.a.createElement(E.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[n]},Ye.map((function(t,a){return o.a.createElement(E.a.Item,{key:a},o.a.createElement(k.a,{type:t.icon}),o.a.createElement("span",{className:"nav-text"},t.title),o.a.createElement(b.b,{to:"".concat(e.props.match.path,"/").concat(t.path)}))}))),o.a.createElement(Fe,null)),o.a.createElement(y.a,{style:{marginLeft:250}},o.a.createElement(Ze,null),o.a.createElement(nt,{style:{margin:"24px 16px 0",overflow:"initial"}},o.a.createElement("div",{style:{padding:24,background:"#fff",textAlign:"center"}},o.a.createElement("div",null,Ye.map((function(a,n){return o.a.createElement(t,{key:n,exact:""===a.path,component:a.component,path:"".concat(e.props.match.path,"/").concat(a.path)})}))))),o.a.createElement(tt,{style:{textAlign:"center"}},"Click CPanel \xa92019 Created by Appnet Technology")))}}]),t}(i.Component),it=Object(M.b)((function(e){return{users:e.users}}),n)(Object(v.c)(Object(f.g)(rt))),ot=(a(659),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var n={email:t.email,password:t.password};fetch(T.login,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},signal:a.abortController.signal}).then((function(e){return 200===e.status?Promise.resolve(e.json()):Promise.reject(e.json())})).then((function(e){var t=a.props.cookies,n=e.data.meta.token,r=e.data.user;a.props.login(r,n),t.set(W.token,n,{path:"/"}),t.set(W.user,r,{path:"/"}),setTimeout((function(){a.props.history.push("/dashboard")}),1e3)}),(function(e){return e.then((function(e){a.setState({loginMessage:e.messages[0]})}))}))}}))},a.state={loginMessage:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this.props.setAppLoading(!1);var t=this.props.cookies,a=t.get(W.token),n=t.get(W.user);setTimeout((function(){n&&a&&e.props.history.push("/dashboard")}),1e3)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement("div",null,o.a.createElement(C.a,null,o.a.createElement(S.a,{span:9}),o.a.createElement(S.a,{span:6},o.a.createElement(pe.a,{onSubmit:this.handleSubmit,className:"login-form"},o.a.createElement("div",{className:"form-title"},"Click CPanel"),o.a.createElement("div",{className:"logo"},o.a.createElement("img",{src:a(207),alt:"..."})),o.a.createElement(pe.a.Item,null,e("email",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp email"}]})(o.a.createElement(j.a,{prefix:o.a.createElement(k.a,{type:"user"}),placeholder:"Email"}))),o.a.createElement(pe.a.Item,null,e("password",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}]})(o.a.createElement(j.a,{prefix:o.a.createElement(k.a,{type:"lock"}),type:"password",placeholder:"M\u1eadt kh\u1ea9u"}))),o.a.createElement("p",{style:{color:"red",textAlign:"center"}},this.state.loginMessage),o.a.createElement(pe.a.Item,null,o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(I.a,{type:"danger",htmlType:"submit",className:"login-form-button"},"\u0110\u0102NG NH\u1eacP"))))),o.a.createElement(S.a,{span:9})))}}]),t}(x)),ct=pe.a.create({name:"normal_login"})(ot),st=Object(v.c)(Object(M.b)((function(e){return{users:e.users}}),n)(ct)),lt=a(101);function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dt=Object(lt.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogout:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return{user:t.user,token:t.token,isLogout:!1};case"UNAUTH_USER":return{isLogout:!0};default:return e}},websites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_WEBSITES":case"CHECKING_ATTACH_SCRIPT":break;default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_LOADING":return pt({},e,{isLoading:t.isLoading});default:return e}}}),mt=Object(lt.c)(dt,{}),ht=function(e){te.a.interceptors.response.use((function(e){return e}),(function(t){return 401===t.response.status&&!1===e.users.isLogout&&e.dispatch({type:"UNAUTH_USER"}),t}))},gt=(a(660),a(302)),ft=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.props.app.isLoading?o.a.createElement("div",{className:"app-loading"},o.a.createElement(gt.a,{tip:"Loading",size:"large"})):o.a.createElement(o.a.Fragment,null)}}]),t}(o.a.Component),bt=Object(M.b)((function(e){return{app:e.app}}),n)(ft),yt=function(e){return te.a.get(T.info,{headers:{accesstoken:e}})};ht(mt);var Et=function(){var e=o.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(v.b)(),i=Object(l.a)(r,3),c=i[0],s=i[1],u=i[2];return!1===a&&yt(c.token).then((function(e){n(!0),e.data.data.user&&s(W.user,e.data.data.user,{domain:"/"})})).catch((function(e){u(W.token,{domain:"/"}),u(W.user,{domain:"/"}),n(!0)})),a?o.a.createElement(M.a,{store:mt},o.a.createElement(v.a,null,o.a.createElement(b.a,null,o.a.createElement(f.d,null,o.a.createElement(f.b,{path:"/login",component:st}),o.a.createElement(f.b,{path:"/dashboard",render:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(it,null))}}),o.a.createElement(f.b,{path:"/**",render:function(){return o.a.createElement(f.a,{to:{pathname:"/dashboard"}})}})),o.a.createElement(bt,null)))):o.a.createElement(o.a.Fragment,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(Et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[348,1,2]]]);
//# sourceMappingURL=main.0df75487.chunk.js.map
{"version":3,"sources":["constants/api.js","components/pages/Login.js","components/pages/Dashboard.js","components/pages/Expiration-updating.js","constants/aside.constant.js","components/layout/Main.js","App.js","serviceWorker.js","index.js"],"names":["API","login","process","getPackages","checkWebsiteCode","updateVipDomain","Login","props","handleSubmit","e","preventDefault","form","validateFields","err","values","params","email","password","fetch","method","body","JSON","stringify","headers","then","res","status","Promise","resolve","json","reject","cookies","set","data","meta","token","setTimeout","history","push","setState","loginMessage","messages","state","this","get","getFieldDecorator","span","style","onSubmit","className","Item","rules","required","message","prefix","type","color","placeholder","textAlign","htmlType","Component","WrappedNormalLoginForm","Form","create","name","withCookies","Dashboard","Option","Select","ExpirationUpdating","packageId","selectedPackage","_id","code","packages","updatingMessage","isSucceed","handleChangePackage","bind","sort","a","b","numOfDays","value","url","replace","domain","essages","length","updatingMessageColor","width","onChange","map","item","index","key","UpdateExpirationForm","title","path","icon","component","Header","Layout","Footer","Sider","Content","Main","isAuthenticated","logout","console","log","window","confirm","remove","PrivateRoute","rest","render","to","pathname","from","location","overflow","height","position","left","theme","mode","defaultSelectedKeys","links","link","match","marginLeft","marginTop","onClick","background","padding","margin","c","exact","withRouter","Root","LoginPage","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ff5f7ac8.chunk.js","sourcesContent":["export const API = {\n\tlogin: process.env.REACT_APP_API_URL + '/api/admin/users/login',\n\tgetPackages: process.env.REACT_APP_API_URL + '/api/packages',\n\tcheckWebsiteCode: process.env.REACT_APP_API_URL + '/api/websites/{code}',\n\tupdateVipDomain: process.env.REACT_APP_API_URL + '/api/users/website',\n}\n","import React, { Component } from 'react';\nimport { Form, Icon, Input, Button, Checkbox, Col, Row } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../constants/api';\n\nclass Login extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloginMessage: ''\n\t\t};\n\t}\n\n\tcomponentWillMount() {\n\t\tconst { cookies } = this.props;\n\t\tconst token = cookies.get('token');\n\t\tif (token) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.history.push(\"/dashboard\");\n\t\t\t}, 1000);\n\t\t}\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\tthis.props.form.validateFields((err, values) => {\n\t\t\tif (!err) {\n\t\t\t\t//console.log('Received values of form: ', values);\n\t\t\t\tconst params = {\n\t\t\t\t\temail: values.email,\n\t\t\t\t\tpassword: values.password\n\t\t\t\t}\n\n\t\t\t\tfetch(API.login, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: JSON.stringify(params),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-type\": \"application/json; charset=UTF-8\"\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.status === 200)\n\t\t\t\t\t\t\treturn Promise.resolve(res.json());\n\t\t\t\t\t\treturn Promise.reject(res.json());\n\t\t\t\t\t})\n\t\t\t\t\t.then(\n\t\t\t\t\t\tresolve => {\n\t\t\t\t\t\t\tconst { cookies } = this.props;\n\t\t\t\t\t\t\tcookies.set('token', resolve.data.meta.token);\n\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.props.history.push(\"/dashboard\");\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject => reject.then(\n\t\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tloginMessage: res.messages[0]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\tconst headerTitleStyle = {\n\t\t\t'textAlign': 'center',\n\t\t\t'padding': '20px 0'\n\t\t};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={9}></Col>\n\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t<h2 style={headerTitleStyle}>Click CPanel</h2>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={9}></Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={9}></Col>\n\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t<Form onSubmit={this.handleSubmit}\n\t\t\t\t\t\t\tclassName=\"login-form\">\n\n\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t{getFieldDecorator('email', {\n\t\t\t\t\t\t\t\t\trules: [{ required: true, message: 'Vui lòng nhập email' }],\n\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tprefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t{getFieldDecorator('password', {\n\t\t\t\t\t\t\t\t\trules: [{ required: true, message: 'Vui lòng nhập mật khẩu' }],\n\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tprefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Mật khẩu\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t<p style={{ color: 'red', textAlign: 'center' }}>{this.state.loginMessage}</p>\n\n\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\"\n\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"login-form-button\">\n\t\t\t\t\t\t\t\t\t\tĐăng nhập\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={9}></Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(Login);\nexport default withCookies(WrappedNormalLoginForm);\n","import React, {Component} from 'react';\n\nexport class Dashboard extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<h2>Dashboard page</h2>\n\t\t)\n\t}\n}\n","import React from \"react\";\nimport { Component } from \"react\";\nimport { Select } from 'antd';\nimport { API } from \"../../constants/api\";\nimport { withCookies } from 'react-cookie';\nimport { Form, Icon, Input, Button, Col, Row } from 'antd';\n\nconst { Option } = Select;\n\nclass ExpirationUpdating extends Component {\n\n\tcookies;\n\ttoken;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.cookies = this.props.cookies;\n\t\tthis.token = this.cookies.get('token');\n\n\t\tthis.state = {\n\t\t\tpackages: [],\n\t\t\tselectedPackage: {\n\t\t\t\t_id: ''\n\t\t\t},\n\t\t\tupdatingMessage: {\n\t\t\t\tmessage: '',\n\t\t\t\tisSucceed: true\n\t\t\t}\n\t\t}\n\n\t\tthis.handleChangePackage = this.handleChangePackage.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getPackages();\n\t}\n\n\tgetPackages() {\n\t\tfetch(API.getPackages, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'accessToken': this.token\n\t\t\t}\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(json => {\n\t\t\tconst packages = json.data.packages.sort((a, b) => {\n\t\t\t\treturn a.numOfDays - b.numOfDays;\n\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\tpackages,\n\t\t\t\tselectedPackage: {\n\t\t\t\t\t_id: packages[0]._id\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t}\n\n\thandleChangePackage(value) {\n\t\tthis.setState({\n\t\t\tselectedPackage: {\n\t\t\t\t_id: value\n\t\t\t}\n\t\t});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\tthis.props.form.validateFields((err, values) => {\n\t\t\tif (!err) {\n\t\t\t\tconst params = {\n\t\t\t\t\tpackageId: this.state.selectedPackage._id,\n\t\t\t\t\tcode: values.code\n\t\t\t\t}\n\t\t\t\tthis.checkWebsiteCode(params);\n\t\t\t}\n\t\t});\n\t};\n\n\tcheckWebsiteCode(params) {\n\t\tconst url = API.checkWebsiteCode.replace('{code}', params.code);\n\n\t\tfetch(url, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'accessToken': this.token\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === 200)\n\t\t\t\t\treturn Promise.resolve(res.json());\n\t\t\t\treturn Promise.reject(res.json());\n\t\t\t})\n\t\t\t.then(\n\t\t\t\tresolve => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdomain: resolve.data.domain\n\t\t\t\t\t});\n\t\t\t\t\tthis.updateVipDomain(params);\n\t\t\t\t},\n\t\t\t\treject => reject.then(\n\t\t\t\t\tres => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tupdatingMessage: {\n\t\t\t\t\t\t\t\tmessage: res.messages[0],\n\t\t\t\t\t\t\t\tisSucceed: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t)\n\t}\n\n\tupdateVipDomain(params) {\n\t\tfetch(API.updateVipDomain, {\n\t\t\tmethod: 'PUT',\n\t\t\tbody: JSON.stringify(params),\n\t\t\theaders: {\n\t\t\t\t\"Content-type\": \"application/json; charset=UTF-8\",\n\t\t\t\t\"accessToken\": this.token\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === 200)\n\t\t\t\t\treturn Promise.resolve(res.json());\n\t\t\t\treturn Promise.reject(res.json());\n\t\t\t})\n\t\t\t.then(\n\t\t\t\tresolve => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tupdatingMessage: {\n\t\t\t\t\t\t\tmessage: resolve.messages[0],\n\t\t\t\t\t\t\tisSucceed: true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\treject => reject.then(\n\t\t\t\t\tres => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tupdatingMessage: {\n\t\t\t\t\t\t\t\tmessage: res.essages[0],\n\t\t\t\t\t\t\t\tisSucceed: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t)\n\t}\n\n\trender() {\n\t\tconst { getFieldDecorator } = this.props.form;\n\t\tconst headerTitleStyle = {\n\t\t\t'textAlign': 'center',\n\t\t\t'padding': '20px 0'\n\t\t};\n\t\tconst formStyle = {\n\t\t\t'border': '1px solid #E0E0E1',\n\t\t\t'padding': '20px',\n\t\t\t'borderRadius': '5px',\n\t\t\t'textAlign': 'left',\n\t\t}\n\t\tconst selectedPackage = this.state.selectedPackage._id || (this.state.packages.length > 0 ? this.state.packages[0]._id : '');\n\t\tconst updatingMessageColor = this.state.updatingMessage.isSucceed ? '#44b543' : 'red';\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Row><h2 style={headerTitleStyle}>CẬP NHẬT THỜI HẠN SỬ DỤNG</h2></Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={9}></Col>\n\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t\t\tstyle={formStyle}\n\t\t\t\t\t\t\tclassName=\"update-expiration-form\">\n\n\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\tGói:\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tvalue={selectedPackage}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Chọn gói\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangePackage}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tthis.state.packages.map((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option value={item._id} key={index}>{item.name} - {item.numOfDays} ngày</Option>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t{getFieldDecorator('code', {\n\t\t\t\t\t\t\t\t\trules: [{ required: true, message: 'Vui lòng nhập mã website' }],\n\t\t\t\t\t\t\t\t})(\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tprefix={<Icon type=\"qrcode\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Mã website\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t<p style={{ color: updatingMessageColor, textAlign: 'center' }}>{this.state.updatingMessage.message}</p>\n\t\t\t\t\t\t\t<p>{this.state.domain ? `Domain: ${this.state.domain.domain}` : ''}</p>\n\n\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\"\n\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"login-form-button\">\n\t\t\t\t\t\t\t\t\t\tCập nhật\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={9}></Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst UpdateExpirationForm = Form.create({ name: 'update_expiration' })(ExpirationUpdating);\nexport default withCookies(UpdateExpirationForm);\n","import { Dashboard } from \"../components/pages/Dashboard\";\nimport ExpirationUpdating from \"../components/pages/Expiration-updating\";\n\nexport default [\n\t{\n\t\ttitle: 'Dashboard',\n\t\tpath: '',\n\t\ticon: 'home',\n\t\tcomponent: Dashboard\n\t},\n\t{\n\t\ttitle: 'Cập nhật thời hạn sử dụng',\n\t\tpath: 'update-expiration',\n\t\ticon: 'sync',\n\t\tcomponent: ExpirationUpdating\n\t}\n];\n","import React, { Component } from 'react';\nimport { Route, Redirect, Link, withRouter } from \"react-router-dom\";\nimport { Layout, Menu, Icon, Button } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport links from '../../constants/aside.constant';\nconst { Header, Footer, Sider, Content } = Layout;\n\nclass Main extends Component {\n\n\tisAuthenticated = false;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.logout = this.logout.bind(this);\n\t}\n\n\tUNSAFE_componentWillMount() {\n\t\tconst { cookies } = this.props;\n\t\tconst token = cookies.get('token');\n\t\tconsole.log('token', token);\n\t\tthis.isAuthenticated = !!token;\n\t}\n\n\tlogout(e) {\n\t\tif (window.confirm('Thoát khỏi hệ thống?')) {\n\t\t\tconst { cookies } = this.props;\n\t\t\tcookies.remove('token');\n\t\t\tthis.props.history.push('/login');\n\t\t}\n\t}\n\n\trender() {\n\t\tconst PrivateRoute = ({ component: Component, ...rest }) => {\n\t\t\treturn (\n\t\t\t\t<Route\n\t\t\t\t\t{...rest}\n\t\t\t\t\trender={props =>\n\t\t\t\t\t\tthis.isAuthenticated ? (\n\t\t\t\t\t\t\t<Component {...props} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\tpathname: \"/login\",\n\t\t\t\t\t\t\t\t\t\tstate: { from: props.location }\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\n\t\tconst renderContents = () => {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{\n\t\t\t\t\t\tlinks.map((c, index) => {\n\t\t\t\t\t\t\tif (c.path === '') {\n\t\t\t\t\t\t\t\treturn <PrivateRoute key={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t component={c.component}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t exact\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t path={`${this.props.match.path}/${c.path}`}/>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn <PrivateRoute key={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t component={c.component}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t path={`${this.props.match.path}/${c.path}`}/>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t)\n\t\t};\n\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<Sider\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\theight: '100vh',\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"logo\" />\n\t\t\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['4']}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlinks.map((link, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Menu.Item key={index}>\n\t\t\t\t\t\t\t\t\t\t<Icon type={link.icon} />\n\t\t\t\t\t\t\t\t\t\t<span className=\"nav-text\">{link.title}</span>\n\t\t\t\t\t\t\t\t\t\t<Link to={`${this.props.match.path}/${link.path}`} />\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</Menu>\n\t\t\t\t\t<Button type=\"link\" style={{ color: 'silver', marginLeft: '8.5px', marginTop: '80vh' }} onClick={this.logout}>\n\t\t\t\t\t\t<Icon type=\"logout\" />\n\t\t\t\t\t\t<span style={{ marginLeft: '8.5px' }}>Đăng xuất</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</Sider>\n\t\t\t\t<Layout style={{ marginLeft: 200 }}>\n\t\t\t\t\t<Header style={{ background: '#fff', padding: 0 }} />\n\t\t\t\t\t<Content style={{ margin: '24px 16px 0', overflow: 'initial' }}>\n\t\t\t\t\t\t<div style={{ padding: 24, background: '#fff', textAlign: 'center' }}>\n\t\t\t\t\t\t\t{renderContents()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Content>\n\t\t\t\t\t<Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nexport default withCookies(withRouter(Main));\n","import React from 'react';\nimport './App.scss';\nimport \"antd/dist/antd.css\";\nimport LoginPage from './components/pages/Login';\nimport Main from './components/layout/Main';\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { CookiesProvider } from 'react-cookie';\n\nfunction Root() {\n\n\tconst renderDashboard = () => {\n\t\treturn <Main />;\n\t};\n\n\treturn (\n\t\t<CookiesProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/login\" component={LoginPage}/>\n\t\t\t\t\t<Route path=\"/dashboard\"\n\t\t\t\t\t\t\t\t render={renderDashboard}/>\n\t\t\t\t\t<Route path=\"/**\" render={() => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Redirect to={{\n\t\t\t\t\t\t\t\tpathname: \"/dashboard\"\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}/>\n\t\t\t\t</Switch>\n\t\t\t</BrowserRouter>\n\t\t</CookiesProvider>\n\t)\n}\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
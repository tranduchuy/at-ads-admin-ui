{"version":3,"sources":["assets/images/app-logo.png","config/secret.js","constants/api.js","components/pages/base-page.js","actions/index.js","actions/types.js","constants/cookie-names.js","constants/user-role.js","components/pages/Users/button-stand-for-user/button-stand-for-user.js","components/pages/Users/licence-updating-modal/licence-updating-modal.js","components/pages/Users/Users.js","components/pages/Adwords-accounts/limit-website-editing-modal/index.js","components/pages/Adwords-accounts/Adwords-accounts.js","components/pages/Google-ads-errors/Google-ads-errors.js","components/pages/Dashboard/Dashboard.js","components/pages/Websites/button-check-tracking-script.js","components/pages/Websites/websites.js","constants/aside.constant.js","components/layout/AsideBtnLogout.js","components/layout/AsideUserInfo.js","components/layout/CustomHeader.js","components/layout/Main.js","components/pages/Login/Login.js","reducers/app-reducer.js","reducers/index.js","reducers/user-reducer.js","reducers/website-reducer.js","store/index.js","services/network-service.js","components/app-loading/app-loading.js","services/user.service.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ENV","API","process","MAIN_DOMAIN","FRONT_END_DOMAIN","login","secret","info","getPackages","checkWebsiteCode","updateVipDomain","getUsers","getAccounts","getGoogleAdsErrors","getGoogleAdsErrorsStatistic","statisticGoogleApiAndError","getWebsites","checkScriptWebsite","updateUserLicence","updateAccountLimitWebsite","BasePage","abortController","AbortController","this","abort","React","Component","user","token","type","setAppLoading","isLoading","websites","checkAttachedScript","website","COOKIE_NAMES","FRONT_END","activeAccountId","activeAdsAccountId","standBy","UserRoles","ButtonStandForUser","props","onClick","bind","cookies","get","loggedInUser","targetUser","JSON","parse","stringify","_id","id","console","log","set","path","domain","setTimeout","window","open","role","title","size","connect","state","users","actions","withCookies","Option","Select","dateFormatList","LicenceUpdatingModal","packages","key","handleChangePackage","value","setState","selectedPackage","isDatePickerDisplayed","_","item","showModal","visible","hideModal","updateLicence","params","userId","packageId","expiredAt","Date","selectedExpiration","getTime","axios","method","url","headers","accessToken","data","signal","then","res","message","messages","openMessage","onUserLicenceUpdated","catch","err","messageContent","loading","content","success","duration","handleChangeDatePicker","date","disabledDate","current","moment","currentPackage","add","updatingMessage","isSucceed","selectedPackageId","className","userFullname","onOk","onCancel","okText","cancelText","span","style","width","placeholder","onChange","map","index","name","defaultValue","format","Users","currentPage","getColumnSearchProps","dataIndex","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","padding","ref","node","searchInput","e","target","onPressEnter","handleSearch","marginBottom","display","autoFocus","icon","marginRight","handleReset","filterIcon","filtered","color","undefined","searchText","isEmptyObj","obj","Object","keys","length","param","join","fetch","json","entries","email","phone","googleId","createdAt","avatar","licencePackageId","licence","licenceName","licenceType","licenceExpiration","licenceHistories","histories","totalItems","refreshUsers","page","limit","sort","a","b","numOfDays","userColumns","render","text","record","flexDirection","alignItems","alt","src","licenceStyle","fontSize","reverse","maxHeight","overflow","placement","trigger","overlayStyle","paginationConfig","position","total","pageSize","onChangePage","pagination","dataSource","columns","rowKey","LimitWebsiteEditingModal","form","validateFields","values","accountId","limitWebsite","onAccountLimitWebsiteEdited","getFieldDecorator","border","background","adsId","Item","rules","required","initialValue","currentLimitWebsite","prefix","EditLimitWebsiteForm","Form","create","AdwordAccounts","refreshAccounts","Accept","accounts","formatAdsId","isConnected","userInfo","websiteInfo","setting","arr","split","splice","accountColumns","filter","sortOrder","fontWeight","href","rowClassName","pieChartConfig","chart","plotBackgroundColor","plotBorderWidth","plotShadow","tooltip","pointFormat","plotOptions","pie","allowPointSelect","cursor","dataLabels","enabled","series","colorByPoint","GoogleAdsErrors","ggAdsErrors","statistic","getStatistic","ggAdsErrorColumns","reason","authConfig","error","functionName","serviceVersion","serviceName","moduleName","forEach","indexOf","push","y","count","config","Dashboard","prevMonth","subtract","now","from","to","chartWrap","createRef","mapResults","result","items","requestsNumber","_date","_d","fetchData","seriesError","stroke","seriesRequest","googleAdsErrorsNumber","offsetWidth","height","strokeDasharray","dataKey","allowDuplicatedCategory","s","ButtonCheckTrackingScript","replace","code","getC","stopSpinning","antIcon","spin","isTracking","fontFamily","WebsitePages","onClickRecheckWebsite","accountInfo","websiteCode","component","AdwordsAccounts","AsideBtnLogout","logout","remove","history","onConfirm","marginLeft","withRouter","AsideUserInfo","Header","Layout","CustomHeader","theme","mode","defaultSelectedKeys","lineHeight","Footer","Sider","Content","Main","isAuthenticated","isLogout","isLoggedIn","PrivateRoute","rest","pathname","location","left","logoImg","links","link","match","margin","textAlign","c","exact","Login","handleSubmit","preventDefault","password","body","status","Promise","resolve","reject","meta","loginMessage","onSubmit","require","htmlType","WrappedNormalLoginForm","rootReducers","combineReducers","action","list","app","createStore","store","interceptors","response","use","dispatch","AppLoading","tip","getLoggedInInfo","NetworkService","Root","useState","checkToken","setCheckToken","useCookies","setCookie","removeCookie","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fe23e1d1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app-logo.ee547009.png\";","const ENV = {\n\tAPI: process.env.REACT_APP_API_URL,\n\tMAIN_DOMAIN: process.env.REACT_APP_MAIN_DOMAIN,\n\tFRONT_END_DOMAIN: process.env.REACT_APP_FRONT_END_DOMAIN\n};\n\nexport default ENV;\n","import secret from '../config/secret';\n\nexport const API = {\n\tlogin: `${secret.API}/api/admin/users/login`,\n\tinfo: `${secret.API}/api/users/info`,\n\tgetPackages: `${secret.API}/api/packages`,\n\tcheckWebsiteCode: `${secret.API}/api/websites/{code}`,\n\tupdateVipDomain: `${secret.API}/api/users/website`,\n\tgetUsers: `${secret.API}/api/admin/users`,\n\tgetAccounts: `${secret.API}/api/admin/users/accounts`,\n\tgetGoogleAdsErrors: `${secret.API}/api/google-ad-errors`,\n\tgetGoogleAdsErrorsStatistic: `${secret.API}/api/google-ad-errors/statistic`,\n\tstatisticGoogleApiAndError: `${secret.API}/api/admin/users/report/google-statistic`,\n\tgetWebsites: `${secret.API}/api/admin/websites`,\n\tcheckScriptWebsite: `${secret.API}/api/admin/websites/{code}/recheck-tracking-code`,\n\tupdateUserLicence: `${secret.API}/api/admin/user-licences`,\n\tupdateAccountLimitWebsite: `${secret.API}/api/admin/account-ads/limit-website`,\n};\n","import React from 'react';\n\nexport class BasePage extends React.Component {\n\tabortController = new AbortController();\n\n\tcomponentWillUnmount() {\n\t\tthis.abortController.abort();\n\t}\n}\n","import { APP_LOADING, CHECKING_ATTACH_SCRIPT, LIST_WEBSITES, LOGIN_SUCCESS } from \"./types\";\n\nexport const login = (user, token) => ({type: LOGIN_SUCCESS, user, token});\n\nexport const setAppLoading = (isLoading) => ({type: APP_LOADING, isLoading});\n\nexport const websites = (websites) => ({type: LIST_WEBSITES, websites});\nexport const checkAttachedScript = (website) => ({type: CHECKING_ATTACH_SCRIPT, website});\n","export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\n\nexport const APP_LOADING = 'APP_LOADING';\n\nexport const LIST_WEBSITES = 'LIST_WEBSITES';\nexport const CHECKING_ATTACH_SCRIPT = 'CHECKING_ATTACH_SCRIPT';\nexport const UNAUTH_USER = 'UNAUTH_USER';\n","const frontEndPrefix = '__ata__';\n\nexport const COOKIE_NAMES = {\n\tFRONT_END: {\n\t\ttoken: `${frontEndPrefix}_token`,\n\t\tuser: `${frontEndPrefix}_user`,\n\t\tactiveAccountId: `${frontEndPrefix}_active_account_id`,\n\t\tactiveAdsAccountId:  `${frontEndPrefix}_active_ads_account_id`,\n\t\tstandBy: `${frontEndPrefix}_stand_by`\n\t},\n\ttoken: 'token',\n\tuser: 'user'\n};\n","export const UserRoles = {\n\tmaster: 1,\n\tadmin: 2,\n\tendUser: 3\n};\n","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport * as  PropTypes from 'prop-types';\nimport { Icon, Tooltip, Button } from 'antd';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../actions';\nimport secret from '../../../../config/secret';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-names';\nimport { UserRoles } from '../../../../constants/user-role';\n\nclass ButtonStandForUser extends React.Component {\n\n\tsecret = secret;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tonClick() {\n\t\tthis.props.setAppLoading(true);\n\t\tconst { cookies } = this.props;\n\t\tconst token = cookies.get(COOKIE_NAMES.token);\n\t\tconst loggedInUser = cookies.get(COOKIE_NAMES.user);\n\t\tconst targetUser = JSON.parse(JSON.stringify(this.props.user));\n\t\ttargetUser._id = targetUser.id;\n\t\tconsole.log(secret);\n\t\tcookies.set(COOKIE_NAMES.FRONT_END.user, targetUser, {path: '/', domain: secret.MAIN_DOMAIN}); // target user info\n\t\tcookies.set(COOKIE_NAMES.FRONT_END.standBy, token, {path: '/', domain: secret.MAIN_DOMAIN}); // Admin info\n\t\tcookies.set(COOKIE_NAMES.FRONT_END.token, loggedInUser, {path: '/', domain: secret.MAIN_DOMAIN}); // admin token\n\n\t\t// console.log('value: ', this.secret);\n\t\tsetTimeout(() => {\n\t\t\twindow.open(this.secret.FRONT_END_DOMAIN, '_blank');\n\t\t\tthis.props.setAppLoading(false);\n\t\t}, 1000);\n\t}\n\n\trender() {\n\t\tif (this.props.user.role === UserRoles.endUser) {\n\t\t\treturn (\n\t\t\t\t<Tooltip title='Thay quyền'>\n\t\t\t\t\t<Button size='small'\n\t\t\t\t\t\t\t\t\tonClick={this.onClick}>\n\t\t\t\t\t\t<Icon type=\"login\"/>\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\n\t\treturn <></>;\n\t}\n}\n\nButtonStandForUser.propTypes = {\n\tusers: PropTypes.object,\n\tuser: PropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\trole: PropTypes.number.isRequired\n\t}),\n\tsetAppLoading: PropTypes.func\n};\n\nconst mapStateToProps = (state) => ({\n\tusers: state.users\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(ButtonStandForUser));\n","import React from 'react';\nimport { API } from \"../../../../constants/api\";\nimport * as actions from '../../../../actions';\nimport { connect } from 'react-redux';\nimport { Button, Col, Row, Modal, Select, message, DatePicker } from 'antd';\nimport { BasePage } from '../../base-page';\nimport axios from \"axios\";\nimport moment from 'moment';\nimport * as _ from 'lodash';\n\nconst { Option } = Select;\nconst dateFormatList = ['DD/MM/YYYY', 'DD/MM/YY'];\n\nclass LicenceUpdatingModal extends BasePage {\n  packages = [];\n  key = 'updatable';\n\n  constructor(props) {\n    super(props);\n\n    this.packages = props.packages;\n\n    this.state = {\n      visible: false,\n      selectedPackage: {\n        _id: this.props.currentPackage._id,\n        type: this.props.currentPackage.type\n      },\n      selectedExpiration: moment(new Date()).add(1, 'months'),\n      updatingMessage: {\n        message: '',\n        isSucceed: true\n      },\n      isDatePickerDisplayed: this.props.currentPackage.type !== 'FREE'\n    }\n  }\n\n  handleChangePackage = (value) => {\n    this.setState({\n      selectedPackage: {\n        _id: value\n      },\n      isDatePickerDisplayed: _.find(this.props.packages, item => item._id === value).type !== 'FREE'\n    });\n  }\n\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  hideModal = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  updateLicence = () => {\n    const params = {\n      userId: this.props.userId,\n      packageId: this.state.selectedPackage._id,\n      expiredAt: new Date(this.state.selectedExpiration).getTime()\n    };\n\n    if (this.state.selectedPackage.type === 'FREE')\n      delete params.expiredAt;\n\n    axios({\n      method: 'PUT',\n      url: API.updateUserLicence,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'accessToken': this.props.accessToken\n      },\n      data: params,\n      signal: this.abortController.signal\n    }).then(res => {\n      const message = res.data.messages[0];\n      this.openMessage(message);\n      this.hideModal();\n      this.props.onUserLicenceUpdated();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  openMessage = (messageContent) => {\n    message.loading({ content: 'Loading...', key: this.key });\n    setTimeout(() => {\n      message.success({ content: messageContent, key: this.key, duration: 2 });\n    });\n  };\n\n  handleChangeDatePicker = (date) => {\n    if (date) {\n      this.setState({\n        selectedExpiration: date\n      })\n    }\n  }\n\n  disabledDate = (current) => {\n    // Can not select days before today and today\n    return current && current < moment();\n  }\n\n  render() {\n    const selectedPackageId = this.state.selectedPackage._id;\n    const selectedExpiration = this.state.selectedExpiration;\n    const isDatePickerDisplayed = this.state.isDatePickerDisplayed;\n    return (\n      <div className=\"modal-container\">\n        <Button onClick={this.showModal} type=\"primary\">\n          Cập nhật licence\n        </Button>\n        <Modal\n          title={\"CẬP NHẬT LICENCE - USER: \" + this.props.userFullname}\n          visible={this.state.visible}\n          onOk={this.updateLicence}\n          onCancel={this.hideModal}\n          okText=\"Cập nhật\"\n          cancelText=\"Hủy bỏ\"\n        >\n          <Row>\n            <Col span={6}></Col>\n            <Col span={12}>\n              <div>\n                Chọn gói licence:\n\t\t\t\t\t\t\t\t<Select\n                  value={selectedPackageId}\n                  style={{ width: '100%' }}\n                  placeholder=\"Chọn gói\"\n                  onChange={this.handleChangePackage}\n                >\n                  {\n                    this.props.packages.map((item, index) => {\n                      return <Option value={item._id} key={index}>{item.name}</Option>\n                    })\n                  }\n                </Select>\n              </div>\n              <br />\n              {(() => {\n                if (isDatePickerDisplayed === true) {\n                  return (\n                    <div>\n                      Hạn dùng đến:\n                    <DatePicker\n                        style={{ width: '100%' }}\n                        defaultValue={moment(selectedExpiration, dateFormatList[0])}\n                        format={dateFormatList} onChange={this.handleChangeDatePicker}\n                        disabledDate={this.disabledDate}\n                      />\n                    </div>\n                  )\n                }\n              })()}\n            </Col>\n            <Col span={4}></Col>\n          </Row>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, actions)(LicenceUpdatingModal);","import React from 'react';\nimport { Row, Col, Table, Input, Button, Icon, Popover } from 'antd';\nimport { API } from '../../../constants/api';\nimport moment from 'moment';\nimport './Users-style.scss';\nimport { BasePage } from '../base-page';\nimport ButtonStandForUser from './button-stand-for-user/button-stand-for-user';\nimport * as actions from '../../../actions';\nimport { connect } from 'react-redux';\nimport LicenceUpdatingModal from './licence-updating-modal/licence-updating-modal';\nimport { COOKIE_NAMES } from '../../../constants/cookie-names';\nimport { withCookies } from 'react-cookie';\nimport { UserRoles } from '../../../constants/user-role';\n\nexport class Users extends BasePage {\n\tcookies;\n\ttoken;\n\tcurrentPage = 1;\n\tpackages = [];\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.cookies = this.props.cookies;\n\t\tthis.token = this.cookies.get(COOKIE_NAMES.token);\n\n\t\tthis.state = {\n\t\t\tsearchText: '',\n\t\t\tusers: [],\n\t\t\ttotalItems: 0,\n\t\t\tpage: 1,\n\t\t\tlimit: 10,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getUsers({\n\t\t\tpage: this.state.page,\n\t\t\tlimit: this.state.limit\n\t\t});\n\t\tthis.getPackages();\n\t}\n\n\tgetPackages() {\n\t\tfetch(API.getPackages, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'accessToken': this.token\n\t\t\t},\n\t\t\tsignal: this.abortController.signal\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(json => {\n\t\t\tthis.packages = json.data.packages.sort((a, b) => {\n\t\t\t\treturn a.numOfDays - b.numOfDays;\n\t\t\t});\n\t\t})\n\t}\n\n\tgetColumnSearchProps = dataIndex => ({\n\t\tfilterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n\t\t\t<div style={{ padding: 8 }}>\n\t\t\t\t<Input\n\t\t\t\t\tref={node => {\n\t\t\t\t\t\tthis.searchInput = node;\n\t\t\t\t\t}}\n\t\t\t\t\tplaceholder={`Search ${dataIndex}`}\n\t\t\t\t\tvalue={selectedKeys[0]}\n\t\t\t\t\tonChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n\t\t\t\t\tonPressEnter={() => this.handleSearch(selectedKeys, dataIndex, confirm)}\n\t\t\t\t\tstyle={{ width: 188, marginBottom: 8, display: 'block' }} autoFocus\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tonClick={() => this.handleSearch(selectedKeys, dataIndex, confirm)}\n\t\t\t\t\ticon=\"search\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tstyle={{ width: 90, marginRight: 8 }}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n\t\t\t\t\tReset\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t),\n\t\tfilterIcon: filtered => (\n\t\t\t<Icon type=\"search\" style={{ color: filtered ? '#f2f2f2' : undefined }} />\n\t\t)\n\t});\n\n\thandleSearch = (selectedKeys, dataIndex, confirm) => {\n\t\tconfirm(); // hide panel search\n\n\t\tif (selectedKeys[0])\n\t\t\tthis.getUsers({ [dataIndex]: selectedKeys[0] });\n\n\t\tthis.setState({ searchText: selectedKeys[0] });\n\t};\n\n\thandleReset = clearFilters => {\n\t\tclearFilters();\n\t\tthis.setState({ searchText: '' });\n\t};\n\n\tonChangePage(currentPage) {\n\t\tif (this.state.totalItems > this.state.limit) {\n\t\t\tthis.getUsers({\n\t\t\t\tpage: currentPage,\n\t\t\t\tlimit: this.state.limit\n\t\t\t});\n\t\t} else {\n\t\t\tif (!this.state.searchText)\n\t\t\t\tthis.getUsers({\n\t\t\t\t\tpage: currentPage,\n\t\t\t\t\tlimit: this.state.limit\n\t\t\t\t});\n\t\t}\n\n\t\tthis.setState({ page: currentPage });\n\t}\n\n\tisEmptyObj = obj => Object.keys(obj).length === 0;\n\n\tgetUsers = (param) => {\n\t\tlet url = API.getUsers;\n\n\t\tif (!this.isEmptyObj(param)) {\n\t\t\turl += '?' + Object.keys(param)\n        .map(key => {\n          return `${key}=${param[key]}`;\n        })\n        .join('&');\n\t\t}\n\n\t\tconst { cookies } = this.props;\n\t\tthis.props.setAppLoading(true);\n\n\t\tfetch(url, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'accessToken': cookies.get(COOKIE_NAMES.token)\n\t\t\t},\n\t\t\tsignal: this.abortController.signal\n\t\t}).then(res => {\n\t\t\tthis.props.setAppLoading(false);\n\t\t\treturn res.json();\n\t\t}).then(json => {\n\t\t\tlet users = (json.data.entries || [])\n\t\t\t\t.map(item => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: item._id,\n\t\t\t\t\t\tname: item.name,\n\t\t\t\t\t\temail: item.email,\n\t\t\t\t\t\tphone: item.phone,\n\t\t\t\t\t\tgoogleId: item.googleId,\n\t\t\t\t\t\tcreatedAt: item.createdAt,\n\t\t\t\t\t\tavatar: item.avatar,\n\t\t\t\t\t\trole: item.role,\n\t\t\t\t\t\tlicencePackageId: item.licence.packageId._id,\n\t\t\t\t\t\tlicenceName: item.licence.packageId ? item.licence.packageId.name : null,\n\t\t\t\t\t\tlicenceType: item.licence.packageId ? item.licence.packageId.type : null,\n\t\t\t\t\t\tlicenceExpiration: item.licence.expiredAt,\n\t\t\t\t\t\tlicenceHistories: item.licence.histories\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\tusers,\n\t\t\t\ttotalItems: users.length > 0 ? json.data.totalItems : 0\n\t\t\t});\n\t\t});\n\t}\n\n\trefreshUsers = () => {\n\t\tthis.getUsers({\n\t\t\tpage: this.state.page,\n\t\t\tlimit: this.state.limit\n\t\t});\n\n\t}\n\n\trender() {\n\n\t\tconst userColumns = [\n\t\t\t{\n\t\t\t\ttitle: 'Hành động',\n\t\t\t\tdataIndex: 'id',\n\t\t\t\tkey: 'id',\n\t\t\t\trender: (text, record) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ButtonStandForUser user={record} />\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Họ và Tên',\n\t\t\t\tdataIndex: 'name',\n\t\t\t\tkey: 'name',\n\t\t\t\t...this.getColumnSearchProps('name'),\n\t\t\t\trender: (text, record) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n\t\t\t\t\t\t\t<img className=\"user-avatar\" alt=\"\"\n\t\t\t\t\t\t\t\tsrc={record.avatar || 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png'} />\n\t\t\t\t\t\t\t<span className=\"user-name\">{text}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Email',\n\t\t\t\tdataIndex: 'email',\n\t\t\t\tkey: 'email',\n\t\t\t\t...this.getColumnSearchProps('email')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Số điện thoại',\n\t\t\t\tdataIndex: 'phone',\n\t\t\t\tkey: 'phone',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Google ID',\n\t\t\t\tdataIndex: 'googleId',\n\t\t\t\tkey: 'googleId',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Ngày tham gia',\n\t\t\t\tdataIndex: 'createdAt',\n\t\t\t\tkey: 'createdAt',\n\t\t\t\trender: text => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<span>{moment(text).format('HH:mm DD/MM/YYYY')}</span>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Licence',\n\t\t\t\tdataIndex: 'licenceName',\n\t\t\t\tkey: 'licenceName',\n\t\t\t\trender: (text, record) => {\n\t\t\t\t\tif (record.role === UserRoles.master || record.role === UserRoles.admin)\n\t\t\t\t\t\treturn <span></span>\n\n\t\t\t\t\tlet licenceStyle = 'free-licence-type';\n\t\t\t\t\tconst licenceBaseStyle = 'base-licence-type'\n\t\t\t\t\tconst { licenceType } = record;\n\n\t\t\t\t\tif (licenceType !== 'FREE') {\n\t\t\t\t\t\tif (licenceType === 'VIP1')\n\t\t\t\t\t\t\tlicenceStyle = 'vip-licence-type';\n\t\t\t\t\t\tif (licenceType === 'CUSTOM')\n\t\t\t\t\t\t\tlicenceStyle = 'custom-licence-type';\n\t\t\t\t\t}\n\n\t\t\t\t\tlet histories = (record.licenceHistories || []).map((item, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<p style={{ fontSize: '12px' }} key={index}>\n\t\t\t\t\t\t\t\tVào lúc {moment(item.createdAt).format('HH:mm DD/MM/YYYY')} <br />\n\t\t\t\t\t\t\t\tLicence: {item.name}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)\n\t\t\t\t\t}).reverse();\n\n\t\t\t\t\tif (histories.length > 0)\n\t\t\t\t\t\thistories = (<div style={{ maxHeight: '300px', overflow: 'auto' }}>{histories}</div>);\n\t\t\t\t\telse histories = (<span style={{ fontSize: '12px' }}>Chưa có ghi nhận nào.</span>);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"user-licence-wrapper\">\n\t\t\t\t\t\t\t<span className={`${licenceBaseStyle} ${licenceStyle}`}>{text}</span>\n\t\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\t\ttitle=\"Lịch sử  cập nhật licence\"\n\t\t\t\t\t\t\t\tcontent={histories}\n\t\t\t\t\t\t\t\ttrigger=\"click\"\n\t\t\t\t\t\t\t\toverlayStyle={{\n\t\t\t\t\t\t\t\t\twidth: '200px'\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Button type=\"link\" style={{ fontSize: '12px' }}>Lịch sử</Button>\n\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Hạn dùng licence',\n\t\t\t\tdataIndex: 'licenceExpiration',\n\t\t\t\tkey: 'licenceExpiration',\n\t\t\t\trender: (text, record) => {\n\t\t\t\t\tif (record.role === UserRoles.master || record.role === UserRoles.admin)\n\t\t\t\t\t\treturn <span></span>\n\n\t\t\t\t\tif (record.licenceType === 'VIP1' || record.licenceType === 'CUSTOM')\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span>{moment(text).format('HH:mm DD/MM/YYYY')}</span>\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '',\n\t\t\t\tdataIndex: 'licenceUpdating',\n\t\t\t\tkey: 'licenceUpdating',\n\t\t\t\trender: (text, record) => {\n\t\t\t\t\tif (record.role === UserRoles.master || record.role === UserRoles.admin)\n\t\t\t\t\t\treturn <span></span>\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<LicenceUpdatingModal\n\t\t\t\t\t\t\taccessToken={this.token}\n\t\t\t\t\t\t\tuserFullname={record.name}\n\t\t\t\t\t\t\tuserId={record.id}\n\t\t\t\t\t\t\tpackages={this.packages}\n\t\t\t\t\t\t\tonUserLicenceUpdated={this.refreshUsers}\n\t\t\t\t\t\t\tcurrentPackage={{ _id: record.licencePackageId, type: record.licenceType }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\tconst paginationConfig = {\n\t\t\tposition: 'bottom',\n\t\t\ttotal: this.state.totalItems,\n\t\t\tpageSize: this.state.limit,\n\t\t\tcurrent: this.state.page,\n\t\t\tonChange: (currentPage) => this.onChangePage(currentPage)\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tpagination={paginationConfig}\n\t\t\t\t\t\t\tdataSource={this.state.users}\n\t\t\t\t\t\t\tcolumns={userColumns}\n\t\t\t\t\t\t\trowKey={(record) => record.id}\n\t\t\t\t\t\t\tclassName=\"users-table\" />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tusers: state.users\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(Users));\n","import React from 'react';\nimport { API } from \"../../../../constants/api\";\nimport { Form, Button, Col, Row, Modal, message, Tooltip, InputNumber, Icon } from 'antd';\nimport { BasePage } from '../../base-page';\nimport axios from \"axios\";\n\nclass LimitWebsiteEditingModal extends BasePage {\n  key = 'updatable';\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: false,\n    }\n  }\n\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  hideModal = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  updateAccountLimitWebsite = () => {\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        const params = {\n          accountId: this.props.accountId,\n          limitWebsite: values.limitWebsite\n        };\n\n        axios({\n          method: 'PUT',\n          url: API.updateAccountLimitWebsite,\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'accessToken': this.props.accessToken\n          },\n          data: params,\n          signal: this.abortController.signal\n        }).then(res => {\n          const message = res.data.messages[0];\n          this.openMessage(message);\n          this.hideModal();\n          this.props.onAccountLimitWebsiteEdited();\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    });\n  }\n\n  openMessage = (messageContent) => {\n    message.loading({ content: 'Loading...', key: this.key });\n    setTimeout(() => {\n      message.success({ content: messageContent, key: this.key, duration: 2 });\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <div className=\"modal-container\">\n        <Tooltip placement=\"bottom\" title=\"Chỉnh sửa\" overlayStyle={{ fontSize: '12px' }}>\n          <Button onClick={this.showModal} icon=\"edit\" style={{ border: 0, background: 'rgba(0,0,0,0)' }} />\n        </Tooltip>\n        <Modal\n          title={\"CHỈNH SỬA LIMIT WEBSITE - TÀI KHOẢN: \" + this.props.adsId}\n          visible={this.state.visible}\n          onOk={this.updateAccountLimitWebsite}\n          onCancel={this.hideModal}\n          okText=\"Lưu\"\n          cancelText=\"Hủy bỏ\"\n        >\n          <Row>\n            <Col span={6}></Col>\n            <Col span={12}>\n              <Form>\n                <Form.Item>\n                  <label>\n                    <span>Limit website: </span>\n                    {getFieldDecorator('limitWebsite', {\n                      rules: [{ required: true, message: 'Vui lòng nhập limit website' }],\n                      initialValue: this.props.currentLimitWebsite\n                    })(\n                      <InputNumber\n                        prefix={<Icon type=\"qrcode\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder=\"Limit website\"\n                      />,\n                    )}\n                  </label>\n                </Form.Item>\n              </Form>\n            </Col>\n            <Col span={4}></Col>\n          </Row>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst EditLimitWebsiteForm = Form.create({ name: 'update_limit_website' })(LimitWebsiteEditingModal);\nexport default EditLimitWebsiteForm;","import React from 'react';\nimport { Row, Col, Table, Input, Button, Icon } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../constants/api';\nimport moment from 'moment';\nimport './Adwords-accounts-style.scss';\nimport * as actions from '../../../actions';\nimport { connect } from 'react-redux';\nimport { COOKIE_NAMES } from '../../../constants/cookie-names';\nimport { BasePage } from '../base-page';\nimport LimitWebsiteEditingModal from './limit-website-editing-modal';\n\nexport class AdwordAccounts extends BasePage {\n  cookies;\n  token;\n\n  constructor(props) {\n    super(props);\n\n    this.cookies = this.props.cookies;\n    this.token = this.cookies.get(COOKIE_NAMES.token);\n\n    this.state = {\n      searchText: '',\n      accounts: [],\n      totalItems: 0,\n      page: 1,\n      limit: 10\n    };\n  }\n\n  componentDidMount() {\n    this.getAccounts({\n      page: this.state.page,\n      limit: this.state.limit\n    });\n  }\n\n  getColumnSearchProps = dataIndex => ({\n    filterDropdown: ({\n      setSelectedKeys,\n      selectedKeys,\n      confirm,\n      clearFilters\n    }) => (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={node => {\n            this.searchInput = node;\n          }}\n          placeholder={`Search ${dataIndex}`}\n          value={selectedKeys[0]}\n          onChange={e =>\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\n          }\n          onPressEnter={() =>\n            this.handleSearch(selectedKeys, dataIndex, confirm)\n          }\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\n          autoFocus\n        />\n        <Button\n          type='primary'\n          onClick={() => this.handleSearch(selectedKeys, dataIndex, confirm)}\n          icon='search'\n          size='small'\n          style={{ width: 90, marginRight: 8 }}\n        >\n          Search\n        </Button>\n        <Button\n          onClick={() => this.handleReset(clearFilters)}\n          size='small'\n          style={{ width: 90 }}\n        >\n          Reset\n        </Button>\n      </div>\n    ),\n    filterIcon: filtered => (\n      <Icon type='search' style={{ color: filtered ? '#f2f2f2' : undefined }} />\n    )\n  });\n\n  handleSearch = (selectedKeys, dataIndex, confirm) => {\n    confirm(); // hide panel search\n\n    if (selectedKeys[0]) this.getAccounts({ [dataIndex]: selectedKeys[0] });\n\n    this.setState({ searchText: selectedKeys[0] });\n  };\n\n  handleReset = clearFilters => {\n    clearFilters();\n    this.setState({ searchText: '' });\n  };\n\n  onChangePage(currentPage) {\n    if (this.state.totalItems > this.state.limit) {\n      this.getAccounts({\n        page: currentPage,\n        limit: this.state.limit\n      });\n    } else {\n      if (!this.state.searchText)\n        this.getAccounts({\n          page: currentPage,\n          limit: this.state.limit\n        });\n    }\n\n    this.setState({ page: currentPage });\n  }\n\n  isEmptyObj = obj => Object.keys(obj).length === 0;\n\n  refreshAccounts = () => {\n    this.getAccounts({\n      page: this.state.page,\n      limit: this.state.limit\n    });\n  };\n\n  getAccounts = param => {\n    let url = API.getAccounts;\n\n    if (!this.isEmptyObj(param)) {\n      url += '?' + Object.keys(param)\n        .map(key => {\n          return `${key}=${param[key]}`;\n        })\n        .join('&');\n    }\n\n    this.props.setAppLoading(true);\n\n    fetch(url, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        accessToken: this.token\n      },\n      signal: this.abortController.signal\n    })\n      .then(res => {\n        return res.json();\n      })\n      .then(json => {\n        let accounts = (json.data.entries || []).map(item => {\n          return {\n            id: item._id,\n            adsId: this.formatAdsId(item.adsId),\n            isConnected: item.isConnected,\n            email: item.userInfo.email,\n            domain: item.websiteInfo\n              ? item.websiteInfo.map(website => website.domain)\n              : [],\n            createdAt: item.createdAt,\n            limitWebsite: item.setting.limitWebsite,\n            licenceType: item.licence.packageId.type\n          };\n        });\n\n        this.setState({\n          accounts,\n          totalItems: accounts.length > 0 ? json.data.totalItems : 0\n        });\n\n        setTimeout(() => {\n          this.props.setAppLoading(false);\n        }, 500);\n      });\n  };\n\n  formatAdsId(adsId) {\n    let arr = adsId.split('');\n    return (\n      arr.splice(0, 3).join('') +\n      '-' +\n      arr.splice(0, 3).join('') +\n      '-' +\n      arr.splice(0, 4).join('')\n    );\n  }\n\n  render() {\n    const googleAdLogoUrl =\n      'https://storage.googleapis.com/gweb-uniblog-publish-prod/images/logo_Google_Ads_192px.max-200x200.png';\n    const accountColumns = [\n      {\n        title: (filter, sortOrder) => {\n          return (\n            <div>\n              <img src={googleAdLogoUrl} alt='' className='ggAds-icon' />\n              <span>Google Ads ID</span>\n            </div>\n          );\n        },\n        dataIndex: 'adsId',\n        key: 'adsId',\n        render: (text, record) => {\n          return (\n            <span\n              style={{\n                color: record.isConnected ? '#44b543' : 'crimson',\n                fontWeight: 'bold'\n              }}\n            >\n              {text}\n            </span>\n          );\n        }\n      },\n      {\n        title: 'Quyền quản lý',\n        dataIndex: 'isConnected',\n        key: 'isConnected',\n        render: text => {\n          if (text === true) {\n            return (\n              <div style={{ color: '#44b543' }}>\n                <Icon type='check' />\n              </div>\n            );\n          }\n\n          return (\n            <div style={{ color: 'crimson' }}>\n              <Icon type='close' />\n            </div>\n          );\n        }\n      },\n      {\n        title: 'Email',\n        dataIndex: 'email',\n        key: 'email',\n        ...this.getColumnSearchProps('email')\n      },\n      {\n        title: 'Tên miền',\n        dataIndex: 'domain',\n        key: 'domain',\n        render: text => {\n          return text.map((item, index) => (\n            <div key={index}>\n              <a href={item} target=' _blank'>\n                {item}\n              </a>\n            </div>\n          ));\n        }\n      },\n      {\n        title: 'Limit webiste',\n        dataIndex: 'limitWebsite',\n        key: 'limitWebsite',\n        render: (text, record) => {\n          if (record.licenceType === 'FREE') return <span>{text}</span>;\n          return (\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'row',\n                alignItems: 'center'\n              }}\n            >\n              <div style={{ width: '50px' }}>{text}</div>\n              <LimitWebsiteEditingModal\n                accessToken={this.token}\n                accountId={record.id}\n                adsId={record.adsId}\n                currentLimitWebsite={record.limitWebsite}\n                onAccountLimitWebsiteEdited={this.refreshAccounts}\n              />\n            </div>\n          );\n        }\n      },\n      {\n        title: 'Ngày kết nối',\n        dataIndex: 'createdAt',\n        key: 'createdAt',\n        render: text => {\n          return <span>{moment(text).format('HH:mm DD/MM/YYYY')}</span>;\n        }\n      }\n    ];\n\n    return (\n      <div className='container'>\n        <Row>\n          <Col span={24}>\n            <Table\n              pagination={{\n                position: 'bottom',\n                total: this.state.totalItems,\n                pageSize: this.state.limit,\n                current: this.state.page,\n                onChange: currentPage => this.onChangePage(currentPage)\n              }}\n              dataSource={this.state.accounts}\n              columns={accountColumns}\n              rowKey={record => record.adsId}\n              className='accounts-table'\n              rowClassName={record => {\n                if (record.isConnected === true) return 'isConnected';\n                return 'isNotConnected';\n              }}\n            />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  actions\n)(withCookies(AdwordAccounts));\n","import React from 'react';\nimport { Row, Col, Table, Popover, Button } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../constants/api';\nimport moment from 'moment';\nimport './Google-ads-errors-style.scss';\nimport JSONPretty from 'react-json-pretty';\nimport axios from 'axios';\nimport ReactHighChart from 'react-highcharts';\nimport { COOKIE_NAMES } from '../../../constants/cookie-names';\nimport { BasePage } from '../base-page';\n\nconst pieChartConfig = {\n  chart: {\n    plotBackgroundColor: null,\n    plotBorderWidth: null,\n    plotShadow: false,\n    type: 'pie'\n  },\n  title: {\n    text: 'Statistic type of Google Ads Error'\n  },\n  tooltip: {\n    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n  },\n  plotOptions: {\n    pie: {\n      allowPointSelect: true,\n      cursor: 'pointer',\n      dataLabels: {\n        enabled: true,\n        format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n      }\n    }\n  },\n  series: [\n    {\n      name: 'Brands',\n      colorByPoint: true,\n      data: []\n    }\n  ]\n};\n\nexport class GoogleAdsErrors extends BasePage {\n  cookies;\n  token;\n\n  constructor(props) {\n    super(props);\n\n    this.cookies = this.props.cookies;\n    this.token = this.cookies.get(COOKIE_NAMES.token);\n\n    this.state = {\n      ggAdsErrors: [],\n      totalItems: 0,\n      page: 1,\n      limit: 10,\n      statistic: []\n    };\n  }\n\n  componentDidMount() {\n    this.getGoogleAdsErrors({\n      page: this.state.page,\n      limit: this.state.limit\n    });\n\n    this.getStatistic();\n  }\n\n  getStatistic() {\n    axios\n      .get(API.getGoogleAdsErrorsStatistic, {\n        headers: {\n          accessToken: this.token\n        },\n        signal: this.abortController.signal\n      })\n      .then(res => {\n        this.setState({\n          statistic: res.data.data\n        });\n      });\n  }\n\n  getGoogleAdsErrors(param) {\n    let url = API.getGoogleAdsErrors;\n\n    if (param.page !== undefined) url += `?page=${param.page}`;\n\n    if (param.limit !== undefined) url += `&limit=${param.limit}`;\n\n    fetch(url, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        accessToken: this.token\n      }\n    })\n      .then(res => {\n        return res.json();\n      })\n      .then(json => {\n        const data = json.data.entries;\n        this.setState({\n          ggAdsErrors: data,\n          totalItems: data.length > 0 ? json.data.totalItems : 0\n        });\n      });\n  }\n\n  onChangePage(currentPage) {\n    this.getGoogleAdsErrors({\n      page: currentPage,\n      limit: this.state.limit\n    });\n    this.setState({ page: currentPage });\n  }\n\n  render() {\n    const ggAdsErrorColumns = [];\n    const errorTemplate = {\n      createdAt: {},\n      reason: {},\n      authConfig: {},\n      params: {},\n      error: {},\n      functionName: '',\n      serviceVersion: '',\n      serviceName: '',\n      moduleName: ''\n    };\n\n    Object.keys(errorTemplate).forEach(key => {\n      if (['authConfig', 'error', 'params'].indexOf(key) === -1) {\n        ggAdsErrorColumns.push({\n          title: key,\n          dataIndex: key,\n          key,\n          render: text => {\n            if (key === 'createdAt')\n              return moment(text).format('HH:mm DD/MM/YYY');\n            return text;\n          }\n        });\n      } else {\n        ggAdsErrorColumns.push({\n          title: key,\n          dataIndex: key,\n          key,\n          render: text => {\n            const content = (\n              <JSONPretty style={{ fontSize: '12px' }} data={text}></JSONPretty>\n            );\n\n            return (\n              <Popover\n                content={content}\n                title='Nội dung'\n                placement='bottom'\n                trigger='click'\n                overlayStyle={{\n                  width: '45vw',\n                  maxHeight: '50vh'\n                }}\n              >\n                <Button>Xem nội dung</Button>\n              </Popover>\n            );\n          }\n        });\n      }\n    });\n\n    pieChartConfig.series[0].data = [];\n    this.state.statistic.forEach(item => {\n      pieChartConfig.series[0].data.push({\n        name: item._id,\n        y: item.count\n      });\n    });\n\n    const paginationConfig = {\n      position: 'bottom',\n      total: this.state.totalItems,\n      pageSize: this.state.limit,\n      current: this.state.page,\n      onChange: currentPage => this.onChangePage(currentPage)\n    };\n\n    return (\n      <div>\n        <div className='container' style={{ overflow: 'auto' }}>\n          <Row>\n            <Col span={24}>\n              <ReactHighChart config={pieChartConfig} />\n            </Col>\n          </Row>\n        </div>\n        <div className='container'>\n          <Row>\n            <Col span={24}>\n              <Table\n                pagination={paginationConfig}\n                dataSource={this.state.ggAdsErrors}\n                columns={ggAdsErrorColumns}\n                rowKey={record => record._id}\n                className='gg-ads-errors-table'\n              />\n            </Col>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withCookies(GoogleAdsErrors);\n","import React  from 'react';\nimport './Dashboard-style.scss';\nimport * as actions from '../../../actions';\nimport { connect } from 'react-redux';\nimport { API } from \"../../../constants/api\";\nimport axios from 'axios';\nimport moment from 'moment';\nimport {\n\tLineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\nimport { BasePage } from \"../base-page\";\nimport { COOKIE_NAMES } from '../../../constants/cookie-names';\nimport { withCookies } from 'react-cookie';\n\nclass Dashboard extends BasePage {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst prevMonth = moment().subtract(1, 'month').format('DD-MM-YYYY');\n\t\tconst now = moment().format('DD-MM-YYYY');\n\t\tthis.state = {\n\t\t\tdata: [],\n\t\t\tfrom: prevMonth,\n\t\t\tto: now\n\t\t};\n\n\t\tthis.chartWrap = React.createRef();\n\t}\n\n\tfetchData() {\n\t\tthis.props.setAppLoading(true);\n\t\tconst { cookies } = this.props;\n\t\taxios.get(API.statisticGoogleApiAndError, {\n\t\t\tparams : {\n\t\t\t\tfrom: this.state.from,\n\t\t\t\tto  : this.state.to\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\t\"accesstoken\": cookies.get(COOKIE_NAMES.token)\n\t\t\t},\n\t\t\tsignal: this.abortController.signal\n\t\t}).then(res => {\n\t\t\tthis.mapResults(res.data.data.result);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.setAppLoading(false);\n\t\t\t}, 500);\n\t\t}).catch(err => {\n\t\t\tthis.props.setAppLoading(false);\n\t\t});\n\t}\n\n\tmapResults(items) {\n\t\titems = items.map(item => {\n\t\t\titem.requestsNumber = item.requestsNumber || 0;\n\t\t\titem._date = moment(item.date, 'DD-MM-YYYY')._d;\n\t\t\treturn item;\n\t\t});\n\n\t\titems.sort((a, b) => {\n\t\t\tif (a._date.getTime() < b._date.getTime()) {\n\t\t\t\treturn -1;\n\t\t\t} else if (a._date.getTime() === b._date.getTime()) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({\n\t\t\tdata: items\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchData();\n\t}\n\n\trender() {\n\t\tconst seriesError = {\n\t\t\tname: 'Error',\n\t\t\tstroke: 'red',\n\t\t\tdata: []\n\t\t};\n\n\t\tconst seriesRequest = {\n\t\t\tname: 'Request',\n\t\t\tstroke: 'blue',\n\t\t\tdata: []\n\t\t};\n\n\t\tthis.state.data.forEach(item => {\n\t\t\tseriesError.data.push({\n\t\t\t\tdate: item.date,\n\t\t\t\tvalue: item.googleAdsErrorsNumber\n\t\t\t});\n\n\t\t\tseriesRequest.data.push({\n\t\t\t\tdate: item.date,\n\t\t\t\tvalue: item.requestsNumber\n\t\t\t});\n\t\t});\n\n\n\t\tconst series = [\n\t\t\tseriesError,\n\t\t\tseriesRequest\n\t\t];\n\n\t\treturn (\n\t\t\t<div ref={this.chartWrap}>\n\t\t\t\t<h2>Request Google Ads & Error Statistic</h2>\n\t\t\t\t<h4>From <strong>{this.state.from}</strong> To <strong>{this.state.to}</strong></h4>\n\t\t\t\t<LineChart width={this.chartWrap.current ? this.chartWrap.current.offsetWidth : 800} height={300}>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\"/>\n\t\t\t\t\t<XAxis dataKey=\"date\" type=\"category\" allowDuplicatedCategory={false}/>\n\t\t\t\t\t<YAxis dataKey=\"value\"/>\n\t\t\t\t\t<Tooltip/>\n\t\t\t\t\t<Legend/>\n\t\t\t\t\t{series.map(s => (\n\t\t\t\t\t\t<Line dataKey=\"value\" data={s.data} stroke={s.stroke} name={s.name} key={s.name}/>\n\t\t\t\t\t))}\n\t\t\t\t</LineChart>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tusers: state.users\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(Dashboard));\n","import { Icon, Tooltip } from \"antd\";\nimport axios from \"axios\";\nimport * as PropTypes from 'prop-types';\nimport React from \"react\";\nimport * as actions from '../../../actions';\nimport { connect } from 'react-redux';\nimport { API } from \"../../../constants/api\";\nimport { COOKIE_NAMES } from \"../../../constants/cookie-names\";\n\nclass ButtonCheckTrackingScript extends React.Component {\n\n\tabortController = new AbortController();\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoading: false,\n\t\t\trecord: props.record\n\t\t};\n\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tstopSpinning() {\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false\n\t\t\t});\n\t\t}, 500);\n\t}\n\n\tonClick() {\n\t\tconsole.log(this.props);\n\t\tthis.setState({\n\t\t\tisLoading: true\n\t\t});\n\t\tconst { cookies } = this.props;\n\t\taxios({\n\t\t\tmethod: 'PUT',\n\t\t\turl: API.checkScriptWebsite.replace('{code}', this.props.record.code),\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'accessToken': cookies.getC(COOKIE_NAMES.token)\n\t\t\t},\n\t\t\tsignal: this.abortController.signal\n\t\t}).then(res => {\n\t\t\tthis.setState({\n\t\t\t\trecord: res.data.data.website\n\t\t\t});\n\t\t\tthis.stopSpinning();\n\n\t\t}).catch(err => {\n\t\t\tconsole.log(err);\n\t\t\t// alert(err.response.data.messages.join('\\n'));\n\t\t\tthis.stopSpinning();\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.abortController.abort();\n\t}\n\n\trender() {\n\t\tconst antIcon = <Icon type=\"loading\" spin/>;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Tooltip placement=\"topLeft\"\n\t\t\t\t\t\t\t\t title=\"Kiểm tra gắn mã\">\n\t\t\t\t\t\t\t\t<span className=\"recheck-website-tracking\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.onClick}>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.state.isLoading ?\n\t\t\t\t\t\t\t\t\t\t\tantIcon :\n\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"reload\"/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t</Tooltip>\n\n\n\t\t\t\t<a href={this.props.text}\n\t\t\t\t\t target=\" _blank\"\n\t\t\t\t\t style={{ color: this.props.record.isTracking ? '#44b543' : 'crimson', fontFamily: 'tahoma' }}>\n\t\t\t\t\t{this.props.text}\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nButtonCheckTrackingScript.propTypes = {\n\ttext: PropTypes.string,\n\tonClick: PropTypes.func,\n\trecord: PropTypes.shape({\n\t\tisTracking: PropTypes.bool\n\t})\n};\n\nconst mapStateToProps = (state) => ({\n\twebsites: state.websites,\n\tusers: state.users\n});\n\n\nexport default connect(mapStateToProps, actions)(ButtonCheckTrackingScript);\n","import React from 'react';\nimport { Row, Col, Table, Input, Button, Icon } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../constants/api';\nimport moment from 'moment';\nimport './websites-style.scss';\nimport { COOKIE_NAMES } from \"../../../constants/cookie-names\";\nimport { BasePage } from \"../base-page\";\nimport ButtonCheckTrackingScript from './button-check-tracking-script';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../actions';\n\nexport class WebsitePages extends BasePage {\n\tcookies;\n\ttoken;\n\tpaginationConfig = {};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.cookies = this.props.cookies;\n\t\tthis.token = this.cookies.get(COOKIE_NAMES.token);\n\n\t\tthis.state = {\n\t\t\tsearchText: '',\n\t\t\twebsites: [],\n\t\t\ttotalItems: 0,\n\t\t\tpage: 1,\n\t\t\tlimit: 10\n\t\t};\n\n\t\tthis.paginationConfig = {\n\t\t\tposition: 'bottom',\n\t\t\ttotal: this.state.totalItems,\n\t\t\tpageSize: this.state.limit,\n\t\t\tcurrent: this.state.page,\n\t\t\tonChange: (currentPage) => this.onChangePage(currentPage)\n\t\t};\n\n\t\tthis.onClickRecheckWebsite = this.onClickRecheckWebsite.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getWebsites({\n\t\t\tpage: this.state.page,\n\t\t\tlimit: this.state.limit\n\t\t});\n\t}\n\n\tgetColumnSearchProps = dataIndex => ({\n\t\tfilterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n\t\t\t<div style={{ padding: 8 }}>\n\t\t\t\t<Input\n\t\t\t\t\tref={node => {\n\t\t\t\t\t\tthis.searchInput = node;\n\t\t\t\t\t}}\n\t\t\t\t\tplaceholder={`Search ${dataIndex}`}\n\t\t\t\t\tvalue={selectedKeys[0]}\n\t\t\t\t\tonChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n\t\t\t\t\tonPressEnter={() => this.handleSearch(selectedKeys, dataIndex, confirm)}\n\t\t\t\t\tstyle={{ width: 188, marginBottom: 8, display: 'block' }} autoFocus\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tonClick={() => this.handleSearch(selectedKeys, dataIndex, confirm)}\n\t\t\t\t\ticon=\"search\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tstyle={{ width: 90, marginRight: 8 }}\n\t\t\t\t>\n\t\t\t\t\tSearch\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n\t\t\t\t\tReset\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t),\n\t\tfilterIcon: filtered => (\n\t\t\t<Icon type=\"search\" style={{ color: filtered ? '#f2f2f2' : undefined }}/>\n\t\t)\n\t});\n\n\thandleSearch = (selectedKeys, dataIndex, confirm) => {\n\t\tconfirm(); // hide panel search\n\n\t\tif (selectedKeys[0])\n\t\t\tthis.getWebsites({ [dataIndex]: selectedKeys[0] });\n\n\t\tthis.setState({ searchText: selectedKeys[0] });\n\t};\n\n\thandleReset = clearFilters => {\n\t\tclearFilters();\n\t\tthis.setState({ searchText: '' });\n\t};\n\n\tonChangePage(currentPage) {\n\t\tif (this.state.totalItems > this.state.limit) {\n\t\t\tthis.getWebsites({\n\t\t\t\tpage: currentPage,\n\t\t\t\tlimit: this.state.limit\n\t\t\t});\n\t\t} else {\n\t\t\tif (!this.state.searchText)\n\t\t\t\tthis.getWebsites({\n\t\t\t\t\tpage: currentPage,\n\t\t\t\t\tlimit: this.state.limit\n\t\t\t\t});\n\t\t}\n\n\t\tthis.setState({ page: currentPage });\n\t}\n\n\tisEmptyObj = obj => Object.keys(obj).length === 0;\n\n\tgetWebsites(param) {\n\t\tlet url = API.getWebsites;\n\n\t\tif (!this.isEmptyObj(param)) {\n\t\t\turl += '?' + Object.keys(param)\n        .map(key => {\n          return `${key}=${param[key]}`;\n        })\n        .join('&');\n\t\t}\n\n\t\tthis.props.setAppLoading(true);\n\n\t\tfetch(url, {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'accessToken': this.token\n\t\t\t},\n\t\t\tsignal: this.abortController.signal\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(json => {\n\t\t\tlet websites = (json.data.entries || [])\n\t\t\t\t.map(item => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdomain: item.domain,\n\t\t\t\t\t\tisTracking: item.isTracking,\n\t\t\t\t\t\tadsId: item.accountInfo ? item.accountInfo.adsId : \"\",\n\t\t\t\t\t\temail: item.userInfo ? item.userInfo.email : \"\",\n\t\t\t\t\t\texpiredAt: item.expiredAt,\n\t\t\t\t\t\tcreatedAt: item.createdAt,\n\t\t\t\t\t\tcode: item.code,\n\t\t\t\t\t\twebsiteCode: item.code\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\twebsites,\n\t\t\t\ttotalItems: websites.length > 0 ? json.data.totalItems : 0\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.setAppLoading(false);\n\t\t\t}, 500);\n\t\t})\n\t}\n\n\tonClickRecheckWebsite(record) {\n\n\t}\n\n\trender() {\n\t\tconst accountColumns = [\n\t\t\t{\n\t\t\t\ttitle: (filter, sortOrder) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Icon type=\"chrome\" className=\"ggAds-icon\"/>\n\t\t\t\t\t\t\t<span>Domain</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\tdataIndex: 'domain',\n\t\t\t\tkey: 'domain',\n\t\t\t\trender: (text, record) => {\n\t\t\t\t\treturn <ButtonCheckTrackingScript text={text}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.onClickRecheckWebsite}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecord={record}/>\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Code',\n\t\t\t\tdataIndex: 'websiteCode',\n\t\t\t\tkey: 'websiteCode',\n\t\t\t\trender: text => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<span>{text}</span>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Gắn tracking',\n\t\t\t\tdataIndex: 'isTracking',\n\t\t\t\tkey: 'isTracking',\n\t\t\t\trender: text => {\n\t\t\t\t\tif (text === true)\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span style={{ color: '#44b543' }}>\n\t\t\t\t\t\t\t\t<Icon type=\"check\"/> Đã gắn\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<span style={{ color: 'crimson' }}>\n\t\t\t\t\t\t\t<Icon type=\"close\"/> Chưa gắn\n\t\t\t\t\t\t</span>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'AdsId',\n\t\t\t\tdataIndex: 'adsId',\n\t\t\t\tkey: 'adsId',\n\t\t\t\t...this.getColumnSearchProps('adsId'),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Email',\n\t\t\t\tdataIndex: 'email',\n\t\t\t\tkey: 'email',\n\t\t\t\t...this.getColumnSearchProps('email'),\n\t\t\t},\n\t\t\t// {\n\t\t\t// \ttitle: 'Ngày hết hạn',\n\t\t\t// \tdataIndex: 'expiredAt',\n\t\t\t// \tkey: 'expiredAt',\n\t\t\t// \trender: text => {\n\t\t\t// \t\tif (text) {\n\t\t\t// \t\t\treturn (\n\t\t\t// \t\t\t\t<span>{moment(text).format('HH:mm DD/MM/YYYY')}</span>\n\t\t\t// \t\t\t);\n\t\t\t// \t\t}\n\n\t\t\t// \t\treturn (\n\t\t\t// \t\t\t<span></span>\n\t\t\t// \t\t);\n\t\t\t// \t}\n\t\t\t// },\n\t\t\t{\n\t\t\t\ttitle: 'Ngày thêm',\n\t\t\t\tdataIndex: 'createdAt',\n\t\t\t\tkey: 'createdAt',\n\t\t\t\trender: text => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<span>{moment(text).format('HH:mm DD/MM/YYYY')}</span>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\t// {\n\t\t\t// \ttitle: '',\n\t\t\t// \tdataIndex: 'code',\n\t\t\t// \tkey: 'code',\n\t\t\t// \trender: text => {\n\t\t\t// \t\tconst host = `/dashboard/update-expiration?code=${text}`;\n\t\t\t// \t\treturn (\n\t\t\t// \t\t\t<Link to={host}>\n\t\t\t// \t\t\t\t<Button type=\"primary\">Nâng cấp domain</Button>\n\t\t\t// \t\t\t</Link>\n\t\t\t// \t\t)\n\t\t\t// \t}\n\t\t\t// },\n\t\t];\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t<Table pagination={this.paginationConfig}\n\t\t\t\t\t\t\t\t\t dataSource={this.state.websites}\n\t\t\t\t\t\t\t\t\t columns={accountColumns}\n\t\t\t\t\t\t\t\t\t rowKey={(record, index) => record.code}\n\t\t\t\t\t\t\t\t\t className=\"accounts-table\"/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default connect(null, actions)(withCookies(WebsitePages))\n","import Users from \"../components/pages/Users/Users\";\nimport AdwordsAccounts from \"../components/pages/Adwords-accounts/Adwords-accounts\";\nimport GoogleAdsErrors from \"../components/pages/Google-ads-errors/Google-ads-errors\";\nimport Dashboard  from \"../components/pages/Dashboard/Dashboard\";\nimport Websites from \"../components/pages/Websites/websites\";\n\nexport default [\n\t{\n\t\ttitle: 'Dashboard',\n\t\tpath: '',\n\t\ticon: 'home',\n\t\tcomponent: Dashboard\n\t},\n\t// {\n\t// \ttitle: 'Cập nhật thời hạn sử dụng',\n\t// \tpath: 'update-expiration',\n\t// \ticon: 'history',\n\t// \tcomponent: ExpirationUpdating\n\t// },\n\t{\n\t\ttitle: 'Quản lý người dùng',\n\t\tpath: 'users',\n\t\ticon: 'user',\n\t\tcomponent: Users\n\t},\n\t{\n\t\ttitle: 'Quản lý website',\n\t\tpath: 'websites',\n\t\ticon: 'chrome',\n\t\tcomponent: Websites\n\t},\n\t{\n\t\ttitle: 'Tài khoản Google Ads',\n\t\tpath: 'accounts',\n\t\ticon: 'appstore',\n\t\tcomponent: AdwordsAccounts\n\t},\n\t{\n\t\ttitle: 'Lỗi Google Ads',\n\t\tpath: 'google-ads-errors',\n\t\ticon: 'bug',\n\t\tcomponent: GoogleAdsErrors\n\t}\n];\n","import { Button, Icon, Popconfirm } from \"antd\";\nimport React from 'react';\nimport { withCookies } from \"react-cookie\";\nimport { withRouter } from 'react-router-dom';\n\nclass AsideBtnLogout extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.logout = this.logout.bind(this);\n\t}\n\n\tlogout() {\n\t\tconst { cookies } = this.props;\n\t\tcookies.remove('token', { path: '/' });\n\t\tthis.props.history.push('/login');\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Popconfirm placement=\"rightBottom\"\n\t\t\t\t\t\t\t\t\ttitle=\"Thoát khỏi hệ thống?\"\n\t\t\t\t\t\t\t\t\tonConfirm={this.logout}\n\t\t\t\t\t\t\t\t\tokText=\"Đồng ý\"\n\t\t\t\t\t\t\t\t\tcancelText=\"Hủy\">\n\t\t\t\t<Button type=\"link\" style={{ width: '100%', 'textAlign': 'left', 'padding': '0 23px' }}>\n\t\t\t\t\t<Icon type=\"logout\"/>\n\t\t\t\t\t<span style={{ marginLeft: '8.5px' }}>Đăng xuất</span>\n\t\t\t\t</Button>\n\t\t\t</Popconfirm>\n\t\t)\n\t}\n}\n\nexport default withCookies(withRouter(AsideBtnLogout));\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport * as actions from '../../actions';\nimport './AsideUserInfo.scss';\n\nclass AsideUserInfo extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={'email'}>\n\t\t\t\t{this.props.users.user ? this.props.users.user.email : ''}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => (\n\t{\n\t\tusers: state.users\n\t}\n);\n\nexport default connect(mapStateToProps, actions)(AsideUserInfo);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport { Layout, Menu } from 'antd';\n\nconst { Header } = Layout;\n\nclass CustomHeader extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Header style={{ background: '#fff', padding: 0 }}>\n\t\t\t\t<Menu theme=\"dark\"\n\t\t\t\t\t\t\tmode=\"horizontal\"\n\t\t\t\t\t\t\tdefaultSelectedKeys={['2']}\n\t\t\t\t\t\t\tstyle={{ lineHeight: '64px' }}>\n\t\t\t\t\t<Menu.Item key=\"1\">nav 1</Menu.Item>\n\t\t\t\t\t<Menu.Item key=\"2\">nav 2</Menu.Item>\n\t\t\t\t\t<Menu.Item key=\"3\">nav 3</Menu.Item>\n\t\t\t\t</Menu>\n\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t{this.props.users.user ? this.props.users.user.email : ''}\n\t\t\t\t</div>\n\t\t\t</Header>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tusers: state.users\n});\n\nexport default connect(mapStateToProps, actions)(CustomHeader);\n","import React, { Component } from 'react';\nimport { Route, Redirect, Link, withRouter } from 'react-router-dom';\nimport { Layout, Menu, Icon } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport links from '../../constants/aside.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport { COOKIE_NAMES } from '../../constants/cookie-names';\nimport AsideBtnLogout from './AsideBtnLogout';\nimport AsideUserInfo from './AsideUserInfo';\nimport CustomHeader from './CustomHeader';\nimport logoImg from '../../assets/images/app-logo.png';\nimport './Main.scss';\n\nconst { Footer, Sider, Content } = Layout;\n\nclass Main extends Component {\n  isAuthenticated = false;\n\n  isLoggedIn() {\n    const { cookies } = this.props;\n    const token = cookies.get(COOKIE_NAMES.token);\n    const user = cookies.get(COOKIE_NAMES.user);\n\n    if (this.props.users.isLogout) {\n      return false;\n    }\n\n    return token && user;\n  }\n\n  componentWillMount() {\n    const { cookies } = this.props;\n\n    if (!this.isLoggedIn()) {\n      cookies.remove(COOKIE_NAMES.token);\n      cookies.remove(COOKIE_NAMES.user);\n      this.isAuthenticated = false;\n    } else {\n      this.isAuthenticated = true;\n    }\n  }\n\n  render() {\n    const PrivateRoute = ({ component: Component, ...rest }) => {\n      return (\n        <Route\n          {...rest}\n          render={props =>\n            this.isAuthenticated ? (\n              <Component {...props} />\n            ) : (\n              <Redirect\n                to={{\n                  pathname: '/login',\n                  state: { from: props.location }\n                }}\n              />\n            )\n          }\n        />\n      );\n    };\n\n    const renderContents = () => {\n      return (\n        <div>\n          {links.map((c, index) => {\n            return (\n              <PrivateRoute\n                key={index}\n                exact={c.path === ''}\n                component={c.component}\n                path={`${this.props.match.path}/${c.path}`}\n              />\n            );\n          })}\n        </div>\n      );\n    };\n\n    const href = window.location.href.split('?')[0];\n    const position = href.split('/');\n    const currentPosition = position[position.length - 1];\n    let page = '0';\n\n    switch (currentPosition) {\n      case 'update-expiration':\n        page = '1';\n        break;\n      case 'users':\n        page = '2';\n        break;\n      case 'accounts':\n        page = '3';\n        break;\n      case 'websites':\n        page = '4';\n        break;\n      case 'google-ads-errors':\n        page = '5';\n        break;\n      default:\n        break;\n    }\n\n    return (\n      <Layout>\n        <Sider\n          style={{\n            overflow: 'auto',\n            height: '100vh',\n            position: 'fixed',\n            left: 0\n          }}\n        >\n          <div className='logo'>\n            <img alt='' src={logoImg} />\n          </div>\n\n          <AsideUserInfo />\n\n          <Menu theme='dark' mode='inline' defaultSelectedKeys={[page]}>\n            {links.map((link, index) => {\n              return (\n                <Menu.Item key={index}>\n                  <Icon type={link.icon} />\n                  <span className='nav-text'>{link.title}</span>\n                  <Link to={`${this.props.match.path}/${link.path}`} />\n                </Menu.Item>\n              );\n            })}\n          </Menu>\n\n          <AsideBtnLogout />\n        </Sider>\n        <Layout style={{ marginLeft: 250 }}>\n          <CustomHeader />\n          <Content style={{ margin: '24px 16px 0', overflow: 'initial' }}>\n            <div\n              style={{ padding: 24, background: '#fff', textAlign: 'center' }}\n            >\n              {renderContents()}\n            </div>\n          </Content>\n          <Footer style={{ textAlign: 'center' }}>\n            Click CPanel ©2019 Created by Appnet Technology\n          </Footer>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  users: state.users\n});\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(withCookies(withRouter(Main)));\n","import React from 'react';\nimport { Form, Icon, Input, Button, Col, Row } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport { API } from '../../../constants/api';\nimport './Login-style.scss';\nimport * as actions from '../../../actions';\nimport { COOKIE_NAMES } from '../../../constants/cookie-names';\nimport { BasePage } from '../base-page';\n\nclass Login extends BasePage {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loginMessage: ''\n    };\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    this.props.setAppLoading(false);\n    const { cookies } = this.props;\n    const token = cookies.get(COOKIE_NAMES.token);\n    const user = cookies.get(COOKIE_NAMES.user);\n\n    setTimeout(() => {\n      if (user && token) {\n        this.props.history.push('/dashboard');\n      }\n    }, 1000);\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        //console.log('Received values of form: ', values);\n        const params = {\n          email: values.email,\n          password: values.password\n        };\n\n        fetch(API.login, {\n          method: 'POST',\n          body: JSON.stringify(params),\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8'\n          },\n          signal: this.abortController.signal\n        })\n          .then(res => {\n            if (res.status === 200) return Promise.resolve(res.json());\n            return Promise.reject(res.json());\n          })\n          .then(\n            resolve => {\n              const { cookies } = this.props;\n              const token = resolve.data.meta.token;\n              const user = resolve.data.user;\n              this.props.login(user, token);\n\n              cookies.set(COOKIE_NAMES.token, token, { path: '/' });\n              cookies.set(COOKIE_NAMES.user, user, { path: '/' });\n\n              setTimeout(() => {\n                this.props.history.push('/dashboard');\n              }, 1000);\n            },\n            reject =>\n              reject.then(res => {\n                this.setState({\n                  loginMessage: res.messages[0]\n                });\n              })\n          );\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <div>\n        <Row>\n          <Col span={9}></Col>\n          <Col span={6}>\n            <Form onSubmit={this.handleSubmit} className='login-form'>\n              <div className='form-title'>Click CPanel</div>\n\n              <div className='logo'>\n                <img\n                  src={require('../../../assets/images/app-logo.png')}\n                  alt='...'\n                />\n              </div>\n\n              <Form.Item>\n                {getFieldDecorator('email', {\n                  rules: [{ required: true, message: 'Vui lòng nhập email' }]\n                })(<Input prefix={<Icon type='user' />} placeholder='Email' />)}\n              </Form.Item>\n\n              <Form.Item>\n                {getFieldDecorator('password', {\n                  rules: [{ required: true, message: 'Vui lòng nhập mật khẩu' }]\n                })(\n                  <Input\n                    prefix={<Icon type='lock' />}\n                    type='password'\n                    placeholder='Mật khẩu'\n                  />\n                )}\n              </Form.Item>\n\n              <p style={{ color: 'red', textAlign: 'center' }}>\n                {this.state.loginMessage}\n              </p>\n\n              <Form.Item>\n                <div style={{ textAlign: 'center' }}>\n                  <Button\n                    type='danger'\n                    htmlType='submit'\n                    className='login-form-button'\n                  >\n                    ĐĂNG NHẬP\n                  </Button>\n                </div>\n              </Form.Item>\n            </Form>\n          </Col>\n          <Col span={9}></Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(Login);\nconst mapStateToProps = state => ({\n  users: state.users\n});\n\nexport default withCookies(\n  connect(\n    mapStateToProps,\n    actions\n  )(WrappedNormalLoginForm)\n);\n","import { APP_LOADING } from \"../actions/types\";\n\nexport default function (state = { isLoading: true }, action) {\n\tswitch (action.type) {\n\t\tcase APP_LOADING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: action.isLoading\n\t\t\t};\n\t\t\t\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { combineReducers } from 'redux';\nimport userReducer from './user-reducer';\nimport websiteReducer from './website-reducer';\nimport appReducer from './app-reducer';\n\nconst rootReducers = combineReducers({\n\tusers: userReducer,\n\twebsites: websiteReducer,\n\tapp: appReducer\n});\n\nexport default rootReducers;\n","import { LOGIN_SUCCESS, UNAUTH_USER } from \"../actions/types\";\n\nexport default function (state = {isLogout: false}, action) {\n\tswitch (action.type) {\n\t\tcase LOGIN_SUCCESS:\n\t\t\treturn {\n\t\t\t\tuser: action.user,\n\t\t\t\ttoken: action.token,\n\t\t\t\tisLogout: false\n\t\t\t};\n\t\tcase UNAUTH_USER:\n\t\t\treturn {\n\t\t\t\tisLogout: true\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { CHECKING_ATTACH_SCRIPT, LIST_WEBSITES } from \"../actions/types\";\n\nexport default function (state = {list: []}, action) {\n\tswitch (action.type) {\n\t\tcase LIST_WEBSITES:\n\t\t\tbreak;\n\t\tcase CHECKING_ATTACH_SCRIPT:\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { createStore } from 'redux';\nimport rootReducers from '../reducers';\n\nexport default createStore(rootReducers, {});\n","import axios from 'axios';\nimport { UNAUTH_USER } from '../actions/types';\n\nexport default {\n  setupInterceptors: (store) => {\n    // Add a response interceptor\n    axios.interceptors.response.use(function (response) {\n        return response;\n    }, function (error) {\n        //catches if the session ended!\n        if ( error.response.status === 401 && store.users.isLogout === false) {\n            store.dispatch({ type: UNAUTH_USER });\n        }\n        \n        return error;\n    });\n\n  }\n};","import React from 'react';\nimport './app-loading.scss';\nimport { Spin } from 'antd';\nimport * as action from '../../actions';\nimport { connect } from 'react-redux';\n\nclass AppLoading extends React.Component {\n\trender() {\n\t\tif (this.props.app.isLoading) {\n\t\t\treturn <div className={'app-loading'}>\n\t\t\t\t<Spin tip={'Loading'}\n\t\t\t\t\t\t\tsize='large'/>\n\t\t\t</div>;\n\t\t}\n\n\t\treturn (\n\t\t\t<></>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tapp: state.app\n});\n\nexport default connect(mapStateToProps, action)(AppLoading);\n","import axios from 'axios';\nimport { API } from '../constants/api';\n\nexport const getLoggedInInfo = (token) => {\n  return axios.get(API.info, {\n    headers: {\n      'accesstoken': token\n    }\n  });\n};","import React from 'react';\nimport './App.scss';\nimport 'antd/dist/antd.css';\nimport Main from './components/layout/Main';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { CookiesProvider, useCookies } from 'react-cookie';\nimport Login from './components/pages/Login/Login';\nimport store from './store';\nimport { Provider } from 'react-redux';\nimport NetworkService from './services/network-service';\nimport AppLoading from './components/app-loading/app-loading';\nimport { getLoggedInInfo } from './services/user.service';\nimport { COOKIE_NAMES } from './constants/cookie-names';\n\nNetworkService.setupInterceptors(store);\n\nfunction Root() {\n  const renderDashboard = () => {\n    return (\n      <>\n        <Main />\n      </>\n    );\n  };\n\n  const [checkToken, setCheckToken] = React.useState(false);\n  const [cookies, setCookie, removeCookie] = useCookies();\n\n  if (checkToken === false) {\n    getLoggedInInfo(cookies.token).then(res => {\n      setCheckToken(true);\n      if (res.data.data.user) {\n        setCookie(COOKIE_NAMES.user, res.data.data.user, {domain: '/'});\n      }\n    }).catch(err => {\n      removeCookie(COOKIE_NAMES.token, {domain: '/'});\n      removeCookie(COOKIE_NAMES.user, {domain: '/'})\n      setCheckToken(true);\n    });\n  }\n\n  if (!checkToken) {\n    return <></>;\n  }\n\n  return (\n    <Provider store={store}>\n      <CookiesProvider>\n        <BrowserRouter>\n          <Switch>\n            <Route path='/login' component={Login} />\n            <Route path='/dashboard' render={renderDashboard} />\n            <Route\n              path='/**'\n              render={() => {\n                return (\n                  <Redirect\n                    to={{\n                      pathname: '/dashboard'\n                    }}\n                  />\n                );\n              }}\n            />\n          </Switch>\n          <AppLoading />\n        </BrowserRouter>\n      </CookiesProvider>\n    </Provider>\n  );\n}\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './config/secret';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}